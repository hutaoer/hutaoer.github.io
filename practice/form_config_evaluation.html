<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>表单配置化方案评估 | 逗逼码农:Blackey</title>
    <meta name="generator" content="VuePress 1.9.9">
    <script>
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?b6eca7f42777b93d2edc92dba0220839";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
    <meta name="description" content="持续提升，降低欲望；乐观幽默，自律坦然">
    
    <link rel="preload" href="/assets/css/0.styles.6b12758a.css" as="style"><link rel="preload" href="/assets/js/app.464ee3e9.js" as="script"><link rel="preload" href="/assets/js/3.ea6371c1.js" as="script"><link rel="preload" href="/assets/js/1.51666839.js" as="script"><link rel="preload" href="/assets/js/42.ab3ca26f.js" as="script"><link rel="prefetch" href="/assets/js/10.6543de98.js"><link rel="prefetch" href="/assets/js/100.a0b9eec5.js"><link rel="prefetch" href="/assets/js/101.ffde6d02.js"><link rel="prefetch" href="/assets/js/102.07242166.js"><link rel="prefetch" href="/assets/js/103.53238b98.js"><link rel="prefetch" href="/assets/js/104.7927d546.js"><link rel="prefetch" href="/assets/js/105.0ce0f7a2.js"><link rel="prefetch" href="/assets/js/106.6c8acec8.js"><link rel="prefetch" href="/assets/js/107.3f8d1563.js"><link rel="prefetch" href="/assets/js/108.819a6dd2.js"><link rel="prefetch" href="/assets/js/109.c027bfe0.js"><link rel="prefetch" href="/assets/js/11.61832a83.js"><link rel="prefetch" href="/assets/js/110.dfc936f1.js"><link rel="prefetch" href="/assets/js/111.b46beced.js"><link rel="prefetch" href="/assets/js/112.60079414.js"><link rel="prefetch" href="/assets/js/113.88859911.js"><link rel="prefetch" href="/assets/js/114.48461490.js"><link rel="prefetch" href="/assets/js/115.a28027a2.js"><link rel="prefetch" href="/assets/js/116.57ac21a8.js"><link rel="prefetch" href="/assets/js/117.8f3b75bc.js"><link rel="prefetch" href="/assets/js/118.7efdf03b.js"><link rel="prefetch" href="/assets/js/119.62fbb657.js"><link rel="prefetch" href="/assets/js/12.43eda7d3.js"><link rel="prefetch" href="/assets/js/120.caa38d0f.js"><link rel="prefetch" href="/assets/js/121.d0d01927.js"><link rel="prefetch" href="/assets/js/122.f2fee676.js"><link rel="prefetch" href="/assets/js/123.b826cf6c.js"><link rel="prefetch" href="/assets/js/124.65cac069.js"><link rel="prefetch" href="/assets/js/125.37ed8cda.js"><link rel="prefetch" href="/assets/js/126.23861b4c.js"><link rel="prefetch" href="/assets/js/127.2992bb13.js"><link rel="prefetch" href="/assets/js/128.318ea2b2.js"><link rel="prefetch" href="/assets/js/129.595c79fe.js"><link rel="prefetch" href="/assets/js/13.f1a1b718.js"><link rel="prefetch" href="/assets/js/130.71722558.js"><link rel="prefetch" href="/assets/js/131.c2be8a63.js"><link rel="prefetch" href="/assets/js/132.16cbc319.js"><link rel="prefetch" href="/assets/js/133.566f3a2d.js"><link rel="prefetch" href="/assets/js/134.6420b624.js"><link rel="prefetch" href="/assets/js/135.2975d291.js"><link rel="prefetch" href="/assets/js/136.7e301368.js"><link rel="prefetch" href="/assets/js/137.7643cadf.js"><link rel="prefetch" href="/assets/js/138.bb446727.js"><link rel="prefetch" href="/assets/js/139.d24b23af.js"><link rel="prefetch" href="/assets/js/14.d067a48a.js"><link rel="prefetch" href="/assets/js/140.625fcde8.js"><link rel="prefetch" href="/assets/js/141.4e891c14.js"><link rel="prefetch" href="/assets/js/15.593cc401.js"><link rel="prefetch" href="/assets/js/16.beabc6ac.js"><link rel="prefetch" href="/assets/js/17.0fb1a43a.js"><link rel="prefetch" href="/assets/js/18.c239fdf5.js"><link rel="prefetch" href="/assets/js/19.0ffb30a4.js"><link rel="prefetch" href="/assets/js/20.c2273516.js"><link rel="prefetch" href="/assets/js/21.216f9893.js"><link rel="prefetch" href="/assets/js/22.3d0928ed.js"><link rel="prefetch" href="/assets/js/23.7abf5309.js"><link rel="prefetch" href="/assets/js/24.1971efc0.js"><link rel="prefetch" href="/assets/js/25.5d5aac67.js"><link rel="prefetch" href="/assets/js/26.2f39a87f.js"><link rel="prefetch" href="/assets/js/27.4e5f5132.js"><link rel="prefetch" href="/assets/js/28.181fa255.js"><link rel="prefetch" href="/assets/js/29.6d907c1a.js"><link rel="prefetch" href="/assets/js/30.38f520b2.js"><link rel="prefetch" href="/assets/js/31.c51cbe22.js"><link rel="prefetch" href="/assets/js/32.5b4f3930.js"><link rel="prefetch" href="/assets/js/33.ec1b8fcb.js"><link rel="prefetch" href="/assets/js/34.52a375bb.js"><link rel="prefetch" href="/assets/js/35.d69ba25b.js"><link rel="prefetch" href="/assets/js/36.c0907d4f.js"><link rel="prefetch" href="/assets/js/37.c894ee15.js"><link rel="prefetch" href="/assets/js/38.dcb887b2.js"><link rel="prefetch" href="/assets/js/39.0934b034.js"><link rel="prefetch" href="/assets/js/4.ee2cbdf1.js"><link rel="prefetch" href="/assets/js/40.9cc3ee49.js"><link rel="prefetch" href="/assets/js/41.4fda55e0.js"><link rel="prefetch" href="/assets/js/43.757ea919.js"><link rel="prefetch" href="/assets/js/44.0767f1f6.js"><link rel="prefetch" href="/assets/js/45.7bfade31.js"><link rel="prefetch" href="/assets/js/46.0e076dda.js"><link rel="prefetch" href="/assets/js/47.77d2201a.js"><link rel="prefetch" href="/assets/js/48.b7675150.js"><link rel="prefetch" href="/assets/js/49.7cbfb83a.js"><link rel="prefetch" href="/assets/js/5.44a5a2f5.js"><link rel="prefetch" href="/assets/js/50.487d18bc.js"><link rel="prefetch" href="/assets/js/51.c2adde32.js"><link rel="prefetch" href="/assets/js/52.18ab1efd.js"><link rel="prefetch" href="/assets/js/53.8aec0dfc.js"><link rel="prefetch" href="/assets/js/54.4ab2a2dc.js"><link rel="prefetch" href="/assets/js/55.8d16ff83.js"><link rel="prefetch" href="/assets/js/56.bbac0ca7.js"><link rel="prefetch" href="/assets/js/57.c010762d.js"><link rel="prefetch" href="/assets/js/58.6ee90ede.js"><link rel="prefetch" href="/assets/js/59.bb29f742.js"><link rel="prefetch" href="/assets/js/6.318277a8.js"><link rel="prefetch" href="/assets/js/60.8919a335.js"><link rel="prefetch" href="/assets/js/61.6ef5d064.js"><link rel="prefetch" href="/assets/js/62.58db830e.js"><link rel="prefetch" href="/assets/js/63.6356d3f7.js"><link rel="prefetch" href="/assets/js/64.8fdd4158.js"><link rel="prefetch" href="/assets/js/65.b183ba6a.js"><link rel="prefetch" href="/assets/js/66.4c70aaec.js"><link rel="prefetch" href="/assets/js/67.343de044.js"><link rel="prefetch" href="/assets/js/68.5b23cf11.js"><link rel="prefetch" href="/assets/js/69.b65fab44.js"><link rel="prefetch" href="/assets/js/7.fe69baf6.js"><link rel="prefetch" href="/assets/js/70.0c47f591.js"><link rel="prefetch" href="/assets/js/71.180f655d.js"><link rel="prefetch" href="/assets/js/72.3f01cbb5.js"><link rel="prefetch" href="/assets/js/73.f6d8633c.js"><link rel="prefetch" href="/assets/js/74.0b4a0c3f.js"><link rel="prefetch" href="/assets/js/75.2ed9d149.js"><link rel="prefetch" href="/assets/js/76.d4c95f5b.js"><link rel="prefetch" href="/assets/js/77.1089162b.js"><link rel="prefetch" href="/assets/js/78.a01c6975.js"><link rel="prefetch" href="/assets/js/79.1255fd3c.js"><link rel="prefetch" href="/assets/js/8.944a02e8.js"><link rel="prefetch" href="/assets/js/80.d8a24ca8.js"><link rel="prefetch" href="/assets/js/81.7e9e7770.js"><link rel="prefetch" href="/assets/js/82.690c9e78.js"><link rel="prefetch" href="/assets/js/83.43547605.js"><link rel="prefetch" href="/assets/js/84.3c153daa.js"><link rel="prefetch" href="/assets/js/85.e2ca5028.js"><link rel="prefetch" href="/assets/js/86.6161823c.js"><link rel="prefetch" href="/assets/js/87.4e7ce0e0.js"><link rel="prefetch" href="/assets/js/88.f3148444.js"><link rel="prefetch" href="/assets/js/89.a4cf6c32.js"><link rel="prefetch" href="/assets/js/9.1b530be0.js"><link rel="prefetch" href="/assets/js/90.e58b28b0.js"><link rel="prefetch" href="/assets/js/91.efe2286b.js"><link rel="prefetch" href="/assets/js/92.7769feec.js"><link rel="prefetch" href="/assets/js/93.48b162f8.js"><link rel="prefetch" href="/assets/js/94.bded59d8.js"><link rel="prefetch" href="/assets/js/95.42b1f9c1.js"><link rel="prefetch" href="/assets/js/96.cdcd7004.js"><link rel="prefetch" href="/assets/js/97.d9fe6ea4.js"><link rel="prefetch" href="/assets/js/98.938e5114.js"><link rel="prefetch" href="/assets/js/99.5bbf4cf7.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6b12758a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>逗逼码农:Blackey</h3> <p class="description" data-v-59e6cb88>持续提升，降低欲望；乐观幽默，自律坦然</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2023
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">逗逼码农:Blackey</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><a href="https://github.com/hutaoer" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://www.cnblogs.com/hutaoer/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  旧的博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><!----> <!----> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>131</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>78</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41><li class="social-item" data-v-1fad0c41><i class="iconfont reco-github" style="color:#849b87;" data-v-1fad0c41></i></li></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><a href="https://github.com/hutaoer" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://www.cnblogs.com/hutaoer/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  旧的博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88></h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2023
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">表单配置化方案评估</h1> <div data-v-8a445198><!----> <!----> <!----> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>低代码</span><span class="tag-item" data-v-8a445198>表单配置化</span></i></div></div> <div class="theme-reco-content content__default"><h1 id="表单配置化方案评估"><a href="#表单配置化方案评估" class="header-anchor">#</a> 表单配置化方案评估</h1> <h2 id="表单控件类型"><a href="#表单控件类型" class="header-anchor">#</a> 表单控件类型</h2> <ul><li>表单中的基本控件类型包含以下几种：</li></ul> <table><thead><tr><th>控件名称</th> <th>说明</th></tr></thead> <tbody><tr><td>单选</td> <td>支持单选的控件</td></tr> <tr><td>多选</td> <td>支持多选的控件</td></tr> <tr><td>填空</td> <td>支持多类型格式的填空控件：文本、整数、日期、手机号、固话、省份城市、省市区、身份证号码、地址、时间</td></tr> <tr><td>表格填空</td> <td>可支持定制化表格</td></tr> <tr><td>TNM分期</td> <td>定制化分期控件</td></tr> <tr><td>长宽高控件</td> <td>定制化长宽高控件</td></tr></tbody></table> <h2 id="表单控件属性"><a href="#表单控件属性" class="header-anchor">#</a> 表单控件属性</h2> <ul><li>单个控件的属性包含：基础属性、<code>rules</code>、<code>jumpCondition</code> 和 <code>relevanceCondition</code>。基础属性为各个控件共通的描述，<code>rules</code>为控件校验信息，<code>jumpCondition</code> 为控件的跳题逻辑，relevanceCondition 为控件的关联逻辑。<br>其中，基础属性是每个控件必须包含的，其他属性若没有配置则不需要。</li></ul> <h3 id="属性列表"><a href="#属性列表" class="header-anchor">#</a> 属性列表</h3> <table><thead><tr><th><strong>基本属性</strong></th> <th></th> <th></th> <th></th></tr></thead> <tbody><tr><td>属性名</td> <td>类型type</td> <td>值</td> <td>说明</td></tr> <tr><td>ID</td> <td>id</td> <td>字符串</td> <td>生成的 id 如 &quot;6865885865546092544&quot;</td></tr> <tr><td>控件code</td> <td>code</td> <td>文本</td> <td></td></tr> <tr><td>控件类型</td> <td>type</td> <td>文本</td> <td>具体的类型值见下方</td></tr> <tr><td>控件归属类别</td> <td>classify</td> <td>文本</td> <td>choice-选择题，fill-填空题，personalInfo-个人信息，other-其他题型</td></tr> <tr><td>标题</td> <td>title</td> <td>文本</td> <td></td></tr> <tr><td>是否有标题备注</td> <td>hasTitleRemark</td> <td>Boolean</td> <td></td></tr> <tr><td>组件标题备注</td> <td>titleRemark</td> <td>文本</td> <td></td></tr> <tr><td>是否必填</td> <td>required</td> <td>true/false</td> <td></td></tr> <tr><td>组件默认值，没有默认值为空</td> <td>value</td> <td></td> <td>选择题value类型为数组，LWHFill、TNM、地址控件value 类型值是Object, 填空题类型为 string</td></tr> <tr><td>组件的展示与否</td> <td>show</td> <td></td> <td></td></tr> <tr><td>跳转</td> <td>jumpShow</td> <td></td> <td>根据跳题逻辑执行的组件展示的结果，默认值都为 true</td></tr> <tr><td>关联显示</td> <td>relevanceShow</td> <td></td> <td>根据关联逻辑执行的结果，当设置了关联逻辑时，值为 false</td></tr> <tr><td>跳转条件</td> <td>jumpCondition</td> <td>json</td> <td><br></td></tr> <tr><td>关联条件</td> <td>relevanceCondition</td> <td>json</td> <td><br></td></tr> <tr><td>控件校验规则</td> <td>check</td> <td>Object</td> <td></td></tr> <tr><td></td> <td></td> <td></td> <td></td></tr> <tr><td><strong>type 类型</strong></td> <td></td> <td></td> <td></td></tr> <tr><td>控件所属类别 classify</td> <td></td> <td></td> <td>说明</td></tr> <tr><td>choice</td> <td>radio</td> <td></td> <td>平铺单选</td></tr> <tr><td></td> <td>checkbox</td> <td></td> <td>平铺多选</td></tr> <tr><td></td> <td>select</td> <td></td> <td>下拉单选</td></tr> <tr><td></td> <td>multipleSelect</td> <td></td> <td>下拉多选</td></tr> <tr><td>fill</td> <td>singleFill</td> <td></td> <td>单项填空</td></tr> <tr><td></td> <td>LWHFill</td> <td></td> <td>长宽高填空</td></tr> <tr><td>personalInfo</td> <td>mobilePhone</td> <td></td> <td>手机号码</td></tr> <tr><td></td> <td>fixPhone</td> <td></td> <td>固话</td></tr> <tr><td></td> <td>address</td> <td></td> <td>地址</td></tr> <tr><td></td> <td>date</td> <td></td> <td>日期</td></tr> <tr><td></td> <td>time</td> <td></td> <td>时间</td></tr> <tr><td></td> <td>IDCard</td> <td></td> <td>身份证</td></tr> <tr><td></td> <td>TNM</td> <td></td> <td>TNM情况</td></tr> <tr><td></td> <td>chemoTime</td> <td></td> <td>化疗时间</td></tr> <tr><td>other</td> <td>componentGroup</td> <td></td> <td>控件组</td></tr> <tr><td></td> <td></td> <td></td> <td></td></tr> <tr><td><strong>单选/多选控件个性化属性</strong></td> <td></td> <td></td> <td></td></tr> <tr><td>选项数据源</td> <td>dataSource</td> <td>label/custom</td> <td>标签/自定义</td></tr> <tr><td>选项平铺行个数</td> <td>optionsNum</td> <td>整数</td> <td></td></tr> <tr><td>选项id</td> <td>id</td> <td>文本</td> <td>option特有配置</td></tr> <tr><td>选项code</td> <td>code</td> <td>文本</td> <td></td></tr> <tr><td>选项名称</td> <td>label</td> <td></td> <td></td></tr> <tr><td>选项备注</td> <td>remark</td> <td></td> <td></td></tr> <tr><td>选项是否允许填空</td> <td>isAllowFill</td> <td></td> <td></td></tr> <tr><td>选项填空是否必填</td> <td>isFillRequired</td> <td></td> <td></td></tr> <tr><td>是否为默认选项</td> <td>isDefaultValue</td> <td></td> <td></td></tr> <tr><td>选项填空提示语</td> <td>allowFillPlaceholder</td> <td></td> <td></td></tr> <tr><td>选项填空内容</td> <td>fillRemark</td> <td></td> <td></td></tr> <tr><td></td> <td></td> <td></td> <td></td></tr> <tr><td><strong>多选控件特有</strong></td> <td></td> <td></td> <td></td></tr> <tr><td>选项排他</td> <td>exclusive</td> <td>true/false</td> <td>option特有配置</td></tr> <tr><td>最小选择数</td> <td>leastOptional</td> <td>整数</td> <td>值为-1时不限</td></tr> <tr><td>最大选择数</td> <td>mostOptional</td> <td>整数</td> <td>值为-1时不限</td></tr> <tr><td></td> <td></td> <td></td> <td></td></tr> <tr><td><strong>填空控件个性化属性</strong></td> <td></td> <td></td> <td></td></tr> <tr><td>输入框样式属性</td> <td>inputUI</td> <td>Object</td> <td></td></tr> <tr><td></td> <td></td> <td></td> <td></td></tr> <tr><td><strong>inputUI</strong></td> <td></td> <td></td> <td></td></tr> <tr><td>输入框类型</td> <td>inputType</td> <td>unlimited/noVerify/number</td> <td>不限/不验证/数字</td></tr> <tr><td>输入框大小</td> <td>inputSize</td> <td>small/medium/big</td> <td>小/中/大</td></tr> <tr><td></td> <td></td> <td></td> <td></td></tr> <tr><td><strong>长宽高特有</strong></td> <td></td> <td></td> <td></td></tr> <tr><td>控件默认值</td> <td>value</td> <td>{ <br>length: '', <br>width: '',<br>height: '' <br>}</td> <td></td></tr> <tr><td></td> <td></td> <td></td> <td></td></tr> <tr><td><strong>地址特有</strong></td> <td></td> <td></td> <td></td></tr> <tr><td>精确度</td> <td>accuracy</td> <td>province/city/area/detail</td> <td>省份/城市/区县/详细地址</td></tr> <tr><td>控件默认值</td> <td>value</td> <td>{<br>province: '',<br>city: '',<br>area: '',<br>detail: ''<br>}</td> <td></td></tr> <tr><td></td> <td></td> <td></td> <td></td></tr> <tr><td><strong>日期特有</strong></td> <td></td> <td></td> <td></td></tr> <tr><td>精确度</td> <td>accuracy</td> <td>year/month/day</td> <td>年/月/日</td></tr> <tr><td></td> <td></td> <td></td> <td></td></tr> <tr><td><strong>时间特有</strong></td> <td></td> <td></td> <td></td></tr> <tr><td>是否使用12小时制</td> <td>use12Hours</td> <td>true/false</td> <td></td></tr> <tr><td></td> <td></td> <td></td> <td></td></tr> <tr><td><strong>TNM 特有</strong></td> <td></td> <td></td> <td></td></tr> <tr><td>控件默认值</td> <td>value</td> <td>{ T: TCode, N: NCode, M: MCode}</td> <td></td></tr> <tr><td>癌种</td> <td>cancerType</td> <td></td> <td></td></tr> <tr><td>阶段</td> <td>phase</td> <td></td> <td></td></tr> <tr><td>T选项列表</td> <td>TOptions</td> <td>[{ code: '', label: '' }, ...]</td> <td></td></tr> <tr><td>M选项列表</td> <td>MOptions</td> <td>[{ code: '', label: '' }, ...]</td> <td></td></tr> <tr><td>N选项列表</td> <td>NOptions</td> <td>[{ code: '', label: '' }, ...]</td> <td></td></tr> <tr><td></td> <td></td> <td></td> <td></td></tr> <tr><td><strong>化疗时间特有</strong></td> <td></td> <td></td> <td></td></tr> <tr><td>周期</td> <td>cycle</td> <td>1/2/3/4</td> <td>单周/双周/三周/四周</td></tr> <tr><td>次数</td> <td>time</td> <td><br></td> <td><br></td></tr> <tr><td></td> <td></td> <td></td> <td></td></tr> <tr><td><strong>jumpCondition，控件设置了跳题逻辑时特有</strong></td> <td></td> <td></td> <td></td></tr> <tr><td>跳转方式</td> <td>jumpWay</td> <td>straight/option/finishFill</td> <td>无条件跳题/按选项跳题/填写完成</td></tr> <tr><td>无条件跳题时的目标控件id</td> <td>unconditionalTargetId</td> <td></td> <td>jumpWay=straight/finishFill 时特有</td></tr> <tr><td>按条件跳题的条件集合</td> <td>targetMap</td> <td>Array</td> <td>jumpWay=option特有</td></tr> <tr><td>当前控件的类型</td> <td>type</td> <td></td> <td>targetMap 子集属性</td></tr> <tr><td>跳题目标控件id</td> <td>dependId</td> <td></td> <td></td></tr> <tr><td>跳题条件</td> <td>selectedValue</td> <td>选择题题型特有</td> <td></td></tr> <tr><td>按选项跳题中设置的最远题的id</td> <td>maxTargetId</td> <td></td> <td>jumpWay=option特有</td></tr> <tr><td>依赖控件id 的集合</td> <td>dependIds</td> <td>Array</td> <td></td></tr> <tr><td></td> <td></td> <td></td> <td></td></tr> <tr><td><strong>relevanceCondition，控件设置了关联关系时特有</strong></td> <td></td> <td></td> <td></td></tr> <tr><td>关联关系</td> <td>logic</td> <td>0/1</td> <td>且/或</td></tr> <tr><td>关联条件集合</td> <td>conditionList</td> <td>Array</td> <td></td></tr> <tr><td>关联控件的类型</td> <td>type</td> <td></td> <td>conditionList 子集属性</td></tr> <tr><td>关联控件id</td> <td>dependId</td> <td></td> <td></td></tr> <tr><td>关联控件选项值</td> <td>selectedValue</td> <td>选择题题型特有</td> <td></td></tr> <tr><td>依赖控件值集合关系</td> <td>relationship</td> <td>0-全部选中，1-任一</td> <td></td></tr> <tr><td>依赖控件id 的集合</td> <td>dependIds</td> <td>Array</td> <td></td></tr> <tr><td></td> <td></td> <td></td> <td></td></tr> <tr><td><strong>控件组属性</strong></td> <td></td> <td></td> <td></td></tr> <tr><td>控件组标题</td> <td>title</td> <td>文本</td> <td></td></tr> <tr><td>控件id</td> <td>id</td> <td>文本</td> <td></td></tr> <tr><td>控件组展示</td> <td>groupShow</td> <td>true/false</td> <td>控制控件组是否展示</td></tr> <tr><td>组内控件列表</td> <td>components</td> <td>[]</td> <td></td></tr> <tr><td></td> <td></td> <td></td> <td></td></tr> <tr><td><strong>check</strong></td> <td></td> <td></td> <td></td></tr> <tr><td>是否数值限制</td> <td>valueLimit</td> <td>true/false</td> <td><br></td></tr> <tr><td>是否字数限制</td> <td>wordLimit</td> <td>true/false</td> <td></td></tr> <tr><td>是否位数限制</td> <td>digitLimit</td> <td>true/false</td> <td></td></tr> <tr><td>是否显示默认值</td> <td>hasDefaultValue</td> <td>true/false</td> <td></td></tr> <tr><td>是否开启日期范围控制</td> <td>rangeDate</td> <td>true/false</td> <td></td></tr> <tr><td>最小值</td> <td>minValue</td> <td>文本</td> <td>type为singleFill、LWHFillphone特有配置,值为“unlimited”时不限</td></tr> <tr><td>最大值</td> <td>maxValue</td> <td>文本</td> <td></td></tr> <tr><td>最小文本长度</td> <td>leastWords</td> <td>Number</td> <td>type=singleFill特有配置，值为-1时不限</td></tr> <tr><td>最大文本长度</td> <td>mostWords</td> <td>Number</td> <td></td></tr> <tr><td>可选日期开始日期</td> <td>rangeStartDate</td> <td></td> <td>type=date特有配置</td></tr> <tr><td>可选日期结束日期</td> <td>rangeEndDate</td> <td></td> <td></td></tr> <tr><td>小数点位数</td> <td>digitNumber</td> <td></td> <td></td></tr> <tr><td>正则表达式</td> <td>pattern</td> <td></td> <td><br></td></tr> <tr><td></td> <td></td> <td></td> <td></td></tr></tbody></table> <h2 id="各类题型的数据结构"><a href="#各类题型的数据结构" class="header-anchor">#</a> 各类题型的数据结构</h2> <ul><li>以下是各种题型的数据结构示例</li></ul> <h3 id="选择题-单选"><a href="#选择题-单选" class="header-anchor">#</a> 选择题（单选）</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'co1'</span><span class="token punctuation">,</span> <span class="token comment">// 组件的唯一标识,将使用雪花算法生成，长度19位，如&quot;6865885865546092544&quot;</span>
    <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">'co1'</span><span class="token punctuation">,</span> <span class="token comment">// 组件code, 一个表单内 code 不可重复</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'select'</span><span class="token punctuation">,</span> <span class="token comment">// 组件类型</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'组件标题'</span><span class="token punctuation">,</span> <span class="token comment">// 组件标题</span>
    <span class="token literal-property property">titleRemark</span><span class="token operator">:</span> <span class="token string">'标题备注'</span><span class="token punctuation">,</span> <span class="token comment">// 标题备注</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 组件值</span>
    <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 组件是否必填</span>
    <span class="token literal-property property">rule</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 校验规则</span>
    <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 组件最终展示</span>
    <span class="token literal-property property">jumpShow</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 跳题逻辑结果</span>
    <span class="token literal-property property">relevanceShow</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 关联逻辑结果</span>
    <span class="token literal-property property">jumpCondition</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 跳题逻辑</span>
      <span class="token literal-property property">jumpWay</span><span class="token operator">:</span> <span class="token string">'straight'</span><span class="token punctuation">,</span> <span class="token comment">// 是否无条件跳</span>
      <span class="token literal-property property">unconditionalTargetId</span><span class="token operator">:</span> <span class="token string">'co3'</span><span class="token punctuation">,</span> <span class="token comment">// 跳转目标组件的id，跳到问卷末尾id值为 'end'</span>
      <span class="token literal-property property">targetMap</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> <span class="token comment">// 当选择选项1时, 跳转到co3</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'select'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">dependId</span><span class="token operator">:</span> <span class="token string">'co3'</span><span class="token punctuation">,</span> <span class="token comment">// 依赖组件的id</span>
          <span class="token literal-property property">selectedValue</span><span class="token operator">:</span> <span class="token string">'0'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token punctuation">{</span> <span class="token comment">// 当选择选项2时, 跳转到co4</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'select'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">dependId</span><span class="token operator">:</span> <span class="token string">'co4'</span><span class="token punctuation">,</span> <span class="token comment">// 依赖组件的id</span>
          <span class="token literal-property property">selectedValue</span><span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token punctuation">{</span> <span class="token comment">// 当选择选项3时, 跳转到co2</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'select'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">dependId</span><span class="token operator">:</span> <span class="token string">'co2'</span><span class="token punctuation">,</span> <span class="token comment">// 依赖组件的id</span>
          <span class="token literal-property property">selectedValue</span><span class="token operator">:</span> <span class="token string">'2'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">dependIds</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'co2'</span><span class="token punctuation">,</span> <span class="token string">'co3'</span><span class="token punctuation">,</span> <span class="token string">'co4'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">maxTargetId</span><span class="token operator">:</span> <span class="token string">'co4'</span><span class="token punctuation">,</span> <span class="token comment">// 条件跳题设置的最远题的id</span>
      <span class="token literal-property property">tempOfJump</span><span class="token operator">:</span> <span class="token string">&quot;let value=this.getValueById('co1');if (this.isEqual(value, 0)) { this.setJumpShow('co1','co3', 'co4'); } else if (this.isEqual(value, '1')){ this.setJumpShow('co1', 'co4', 'co4') }else if (this.isEqual(value, 2)){ this.setJumpShow('co1', 'co2', 'co4') }&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 根据设置跳题逻辑生成的执行语句，通过 getJsonToScript() 生成</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">optionsNum</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment">// 选项平铺展示时，每行个数</span>
    <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 选项code</span>
        <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'选项1'</span><span class="token punctuation">,</span> <span class="token comment">// 选项 label</span>
        <span class="token literal-property property">remark</span><span class="token operator">:</span> <span class="token string">'选项说明'</span><span class="token punctuation">,</span> <span class="token comment">// 选项备注</span>
        <span class="token literal-property property">isAllowFill</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否允许填写文本</span>
        <span class="token literal-property property">isFillRequired</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 文本填写是否必填</span>
        <span class="token literal-property property">isDefaultValue</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否默认选中</span>
        <span class="token literal-property property">img</span><span class="token operator">:</span> <span class="token string">'//xxx.png'</span><span class="token punctuation">,</span> <span class="token comment">// 选项图片</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 选项code</span>
        <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'选项2'</span><span class="token punctuation">,</span> <span class="token comment">// 选项 label</span>
        <span class="token literal-property property">remark</span><span class="token operator">:</span> <span class="token string">'选项说明'</span><span class="token punctuation">,</span> <span class="token comment">// 选项备注</span>
        <span class="token literal-property property">isAllowFill</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否允许填写文本</span>
        <span class="token literal-property property">isFillRequired</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 文本填写是否必填</span>
        <span class="token literal-property property">isDefaultValue</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否默认选中</span>
        <span class="token literal-property property">img</span><span class="token operator">:</span> <span class="token string">'//xxx.png'</span><span class="token punctuation">,</span> <span class="token comment">// 选项图片</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// 选项code</span>
        <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'选项3'</span><span class="token punctuation">,</span> <span class="token comment">// 选项 label</span>
        <span class="token literal-property property">remark</span><span class="token operator">:</span> <span class="token string">'选项说明'</span><span class="token punctuation">,</span> <span class="token comment">// 选项备注</span>
        <span class="token literal-property property">isAllowFill</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否允许填写文本</span>
        <span class="token literal-property property">isFillRequired</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 文本填写是否必填</span>
        <span class="token literal-property property">isDefaultValue</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否默认选中</span>
        <span class="token literal-property property">img</span><span class="token operator">:</span> <span class="token string">'//xxx.png'</span><span class="token punctuation">,</span> <span class="token comment">// 选项图片</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'co2'</span><span class="token punctuation">,</span> <span class="token comment">// 组件的唯一标识</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token comment">// 组件类型</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'组件标题'</span><span class="token punctuation">,</span> <span class="token comment">// 组件标题</span>
    <span class="token literal-property property">titleRemark</span><span class="token operator">:</span> <span class="token string">'组件副标题'</span><span class="token punctuation">,</span> <span class="token comment">// 标题备注</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 组件是否必填</span>
    <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 组件最终展示</span>
    <span class="token literal-property property">jumpShow</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 跳题逻辑结果</span>
    <span class="token literal-property property">relevanceShow</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 关联逻辑结果</span>
    <span class="token literal-property property">rule</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 校验规则</span>
    <span class="token comment">// 输入框填写类型, 小数、日期、手机、固化、手机或固化、省份城市、省市区、身份证号、汉字、英文、中文姓名、英文数字</span>
    <span class="token literal-property property">inputType</span><span class="token operator">:</span> <span class="token string">' integer'</span> <span class="token comment">// integer-整数、decimal-小数、date-日期...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'co4'</span><span class="token punctuation">,</span> <span class="token comment">// 组件的唯一标识</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token comment">// 组件类型</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'组件4'</span><span class="token punctuation">,</span> <span class="token comment">// 组件标题</span>
    <span class="token literal-property property">titleRemark</span><span class="token operator">:</span> <span class="token string">'组件副标题'</span><span class="token punctuation">,</span> <span class="token comment">// 标题备注</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 组件是否必填</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">jumpShow</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">relevanceShow</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">relevanceCondition</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">currentId</span><span class="token operator">:</span> <span class="token string">'co4'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">logic</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 关联关系，0为且，1为或</span>
      <span class="token literal-property property">conditionList</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 组件4只有组件1选择选项1,且组件3选择了选项1和选项2的时候才展示</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'select'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">dependId</span><span class="token operator">:</span> <span class="token string">'co1'</span><span class="token punctuation">,</span> <span class="token comment">// 依赖组件的id</span>
          <span class="token literal-property property">selectedValue</span><span class="token operator">:</span> <span class="token string">'xuanxiang1'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'checkbox'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">dependId</span><span class="token operator">:</span> <span class="token string">'co3'</span><span class="token punctuation">,</span> <span class="token comment">// 依赖组件的id</span>
          <span class="token literal-property property">selectedValue</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'xuanxiang1'</span><span class="token punctuation">,</span> <span class="token string">'xuanxiang2'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'componentGroup'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">dependId</span><span class="token operator">:</span> <span class="token string">'co2'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">dependIds</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'co1'</span><span class="token punctuation">,</span> <span class="token string">'co3'</span><span class="token punctuation">,</span> <span class="token string">'co2'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">tempOfRelevance</span><span class="token operator">:</span> <span class="token string">&quot;if(!this.isAllShow(['co1', 'co3'])){this.setRelevanceShow('co4', false);} else { if(this.isEqual(this.getValueById('co1'), 'xuanxiang1') &amp;&amp; (this.isEqual(this.getValueById('co3'), ['xuanxiang1', 'xuanxiang2']))) { this.setRelevanceShow('co4', true) } else { this.setRelevanceShow('co4', false) }}&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre></div><h3 id="选择题-多选"><a href="#选择题-多选" class="header-anchor">#</a> 选择题（多选）</h3> <ul><li>和单选题控件的数据结构相比，多选项的数据结构主要有以下几点不同：
<ul><li>增加最少可选 <code>leastOptional</code> 属性，值为<code>-1</code>时为不限；</li> <li>增加最多可选 <code>mostOptional</code> 属性，值为<code>-1</code>时为不限；</li> <li><code>value</code> 类型由字符串转变为数组类型；</li> <li><code>jumpCondition</code> 中 <code>targetMap</code> 的 <code>selectedValue</code>由字符串转变为数组类型；</li> <li>选项增加排他属性 <code>exclusive</code>, 值为<code>true</code>是表示勾选了排他。</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'co1'</span><span class="token punctuation">,</span> <span class="token comment">// 组件的唯一标识,将使用雪花算法生成，长度19位，如&quot;6865885865546092544&quot;</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'checkbox'</span><span class="token punctuation">,</span> <span class="token comment">// 组件类型</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'组件标题'</span><span class="token punctuation">,</span> <span class="token comment">// 组件标题</span>
    <span class="token literal-property property">titleRemark</span><span class="token operator">:</span> <span class="token string">'标题备注'</span><span class="token punctuation">,</span> <span class="token comment">// 标题备注</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 组件默认值</span>
    <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 组件是否必填</span>
    <span class="token literal-property property">leastOptional</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 最少选择1项</span>
    <span class="token literal-property property">mostOptional</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">// 最多选择3项</span>
    <span class="token literal-property property">rule</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 校验规则</span>
    <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 组件最终展示</span>
    <span class="token literal-property property">jumpShow</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 跳题逻辑结果</span>
    <span class="token literal-property property">relevanceShow</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 关联逻辑结果</span>
    <span class="token literal-property property">jumpCondition</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 跳题逻辑</span>
      <span class="token literal-property property">currentId</span><span class="token operator">:</span> <span class="token string">'co1'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">jumpWay</span><span class="token operator">:</span> <span class="token string">'straight'</span><span class="token punctuation">,</span> <span class="token comment">// 是否无条件跳</span>
      <span class="token literal-property property">noConditionJumpTargetId</span><span class="token operator">:</span> <span class="token string">'co3'</span><span class="token punctuation">,</span> <span class="token comment">// 跳转目标组件的id，跳到问卷末尾id值为 'end'</span>
      <span class="token literal-property property">targetMap</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> <span class="token comment">// 当选择选项1、2时, 跳转到co3</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'select'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">targetId</span><span class="token operator">:</span> <span class="token string">'co3'</span><span class="token punctuation">,</span> <span class="token comment">// 目标组件的id</span>
          <span class="token literal-property property">selectedValue</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'0'</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token punctuation">{</span> <span class="token comment">// 当选择选项2、3时, 跳转到co4</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'select'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">targetId</span><span class="token operator">:</span> <span class="token string">'co4'</span><span class="token punctuation">,</span> <span class="token comment">// 目标组件的id</span>
          <span class="token literal-property property">selectedValue</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token punctuation">{</span> <span class="token comment">// 当选择选项1、3时, 跳转到co2</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'select'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">targetId</span><span class="token operator">:</span> <span class="token string">'co2'</span><span class="token punctuation">,</span> <span class="token comment">// 目标组件的id</span>
          <span class="token literal-property property">selectedValue</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'0'</span><span class="token punctuation">,</span><span class="token string">'1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">maxTargetId</span><span class="token operator">:</span> <span class="token string">'co4'</span><span class="token punctuation">,</span> <span class="token comment">// 条件跳题设置的最远题的id</span>
      <span class="token literal-property property">tempOfJump</span><span class="token operator">:</span> <span class="token string">&quot;let value=this.getValueById('co1');if (this.isEqual(value, 0)) { this.setJumpShow('co1','co3', 'co4'); } else if (this.isEqual(value, '1')){ this.setJumpShow('co1', 'co4', 'co4') }else if (this.isEqual(value, 2)){ this.setJumpShow('co1', 'co2', 'co4') }&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 根据设置跳题逻辑生成的执行语句，通过 getJsonToScript() 生成</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">optionsNum</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment">// 选项平铺展示时，每行个数</span>
    <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 选项code</span>
        <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'选项1'</span><span class="token punctuation">,</span> <span class="token comment">// 选项 label</span>
        <span class="token literal-property property">remark</span><span class="token operator">:</span> <span class="token string">'选项说明'</span><span class="token punctuation">,</span> <span class="token comment">// 选项备注</span>
        <span class="token literal-property property">isAllowFill</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否允许填写文本</span>
        <span class="token literal-property property">isFillRequired</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 文本填写是否必填</span>
        <span class="token literal-property property">isDefaultValue</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否默认选中</span>
        <span class="token literal-property property">img</span><span class="token operator">:</span> <span class="token string">'//xxx.png'</span><span class="token punctuation">,</span> <span class="token comment">// 选项图片</span>
        <span class="token literal-property property">exclusive</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 排他</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 选项code</span>
        <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'选项2'</span><span class="token punctuation">,</span> <span class="token comment">// 选项 label</span>
        <span class="token literal-property property">remark</span><span class="token operator">:</span> <span class="token string">'选项说明'</span><span class="token punctuation">,</span> <span class="token comment">// 选项备注</span>
        <span class="token literal-property property">isAllowFill</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否允许填写文本</span>
        <span class="token literal-property property">isFillRequired</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 文本填写是否必填</span>
        <span class="token literal-property property">isDefaultValue</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否默认选中</span>
        <span class="token literal-property property">img</span><span class="token operator">:</span> <span class="token string">'//xxx.png'</span><span class="token punctuation">,</span> <span class="token comment">// 选项图片</span>
        <span class="token literal-property property">exclusive</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 排他</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// 选项code</span>
        <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'选项3'</span><span class="token punctuation">,</span> <span class="token comment">// 选项 label</span>
        <span class="token literal-property property">remark</span><span class="token operator">:</span> <span class="token string">'选项说明'</span><span class="token punctuation">,</span> <span class="token comment">// 选项备注</span>
        <span class="token literal-property property">isAllowFill</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否允许填写文本</span>
        <span class="token literal-property property">isFillRequired</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 文本填写是否必填</span>
        <span class="token literal-property property">isDefaultValue</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否默认选中</span>
        <span class="token literal-property property">img</span><span class="token operator">:</span> <span class="token string">'//xxx.png'</span><span class="token punctuation">,</span> <span class="token comment">// 选项图片</span>
        <span class="token literal-property property">exclusive</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 排他</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="填空题"><a href="#填空题" class="header-anchor">#</a> 填空题</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">[</span>
    <span class="token comment">// 单项填空</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'co1'</span><span class="token punctuation">,</span> <span class="token comment">// 组件的唯一标识,将使用雪花算法生成，长度19位，如&quot;6865885865546092544&quot;</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'singleFill'</span><span class="token punctuation">,</span> <span class="token comment">// 组件类型</span>
        <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'组件标题'</span><span class="token punctuation">,</span> <span class="token comment">// 组件标题</span>
        <span class="token literal-property property">classify</span><span class="token operator">:</span> <span class="token string">'fill'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">titleRemark</span><span class="token operator">:</span> <span class="token string">'标题备注'</span><span class="token punctuation">,</span> <span class="token comment">// 标题备注</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 组件默认文本</span>
        <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 组件是否必填</span>
        <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 组件最终展示</span>
        <span class="token literal-property property">jumpShow</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 跳题逻辑结果</span>
        <span class="token literal-property property">relevanceShow</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 关联逻辑结果</span>
      	<span class="token literal-property property">inputUI</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      		<span class="token literal-property property">inputType</span><span class="token operator">:</span> <span class="token string">'number'</span><span class="token punctuation">,</span> <span class="token comment">// 输入框类型：unlimited-不限，noVerify-不验证, number-数字</span>
        	<span class="token literal-property property">inputSize</span><span class="token operator">:</span> <span class="token string">'small'</span><span class="token punctuation">,</span> <span class="token comment">// 输入框大小：small-小，medium-中，big-大</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      	<span class="token literal-property property">check</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">valueLimit</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否数值限制</span>
          <span class="token literal-property property">wordLimit</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否字数限制</span>
          <span class="token literal-property property">digitLimit</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否位数限制</span>
          <span class="token literal-property property">hasDefaultValue</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否显示默认文本</span>
          <span class="token literal-property property">leastWords</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 最少填写字数，值为-1时为不限</span>
          <span class="token literal-property property">mostWords</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 最多填写字数，值为-1时为不限</span>
          <span class="token literal-property property">minValue</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 最小值，unlimited 时不限</span>
          <span class="token literal-property property">maxValue</span><span class="token operator">:</span> <span class="token string">'unlimited'</span><span class="token punctuation">,</span> <span class="token comment">// 最大值，unlimited 时不限</span>
        	<span class="token literal-property property">digitNumber</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 小数点位数限制</span>
        <span class="token punctuation">}</span>
        <span class="token literal-property property">jumpCondition</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">targetMap</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'singleFill'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">dependId</span><span class="token operator">:</span> <span class="token string">'co4'</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token literal-property property">dependIds</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'co4'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">relevanceCondition</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">conditionList</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'singleFill'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">dependId</span><span class="token operator">:</span> <span class="token string">'co2'</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token literal-property property">dependIds</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'co2'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 长宽高填空</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'LWHFill'</span><span class="token punctuation">,</span> <span class="token comment">// 长宽高填空</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token string">'10'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">'20'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token string">'30'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">check</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      			<span class="token literal-property property">minValue</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 最小值</span>
        		<span class="token literal-property property">maxValue</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 最大值</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 手机号码</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'mobilePhone'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">check</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">pattern</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^1[3-9][0-9]{9}$</span><span class="token regex-delimiter">/</span></span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 固话</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'fixPhone'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">check</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
        		 <span class="token literal-property property">pattern</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">([0-9]{3,4}-)?[0-9]{7,8}</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 地址</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'address'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">accuracy</span><span class="token operator">:</span> <span class="token string">'detail'</span><span class="token punctuation">,</span> <span class="token comment">// 精确度：province-省份，city-城市，area-区县，detail-详细地址</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">province</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
            <span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
            <span class="token literal-property property">area</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
            <span class="token literal-property property">detail</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">check</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">hasDefaultValue</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 日期</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'date'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">accuracy</span><span class="token operator">:</span> <span class="token string">'date'</span><span class="token punctuation">,</span> <span class="token comment">// 精确度：year-年，month-月，date-日</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        <span class="token literal-property property">check</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">rangeDate</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token literal-property property">rangeStartDate</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        	<span class="token literal-property property">rangeEndDate</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 时间</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'time'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        <span class="token literal-property property">use12Hours</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否使用12小时制</span>
        <span class="token literal-property property">check</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">hasDefaultValue</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 身份证</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'IDCard'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        <span class="token literal-property property">classify</span><span class="token operator">:</span> <span class="token string">'personalInfo'</span><span class="token punctuation">,</span> <span class="token comment">// 个人信息</span>
        <span class="token literal-property property">check</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        	<span class="token literal-property property">pattern</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// TMN 填空</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'TMN'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">cancerType</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 癌种</span>
        <span class="token literal-property property">phase</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 阶段</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">t</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token literal-property property">n</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token literal-property property">m</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      	<span class="token literal-property property">TOptions</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'t1'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">'t1'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'t2'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">'t2'</span>
          <span class="token punctuation">}</span>
       <span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token literal-property property">MOptions</span><span class="token operator">:</span> <span class="token punctuation">[</span>
         <span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'m1'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">'m1'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'m2'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">'m3'</span>
          <span class="token punctuation">}</span>
       <span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token literal-property property">NOptions</span><span class="token operator">:</span> <span class="token punctuation">[</span>
         <span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'n1'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">'n1'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'n2'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">'n3'</span>
          <span class="token punctuation">}</span>
       <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><h3 id="控件组"><a href="#控件组" class="header-anchor">#</a> 控件组</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'6865885865546092544'</span><span class="token punctuation">,</span> <span class="token comment">// 控件组Id</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'componentGroup'</span><span class="token punctuation">,</span> <span class="token comment">// 控件组类型</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'化疗史'</span><span class="token punctuation">,</span> <span class="token comment">// 控件组标题</span>
    <span class="token literal-property property">jumpCondition</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 跳题逻辑</span>
      <span class="token literal-property property">jumpWay</span><span class="token operator">:</span> <span class="token string">'finishFill'</span><span class="token punctuation">,</span> <span class="token comment">// 填写完成时</span>
      <span class="token literal-property property">unconditionalTargetId</span><span class="token operator">:</span> <span class="token string">'co3'</span><span class="token punctuation">,</span> <span class="token comment">// 跳转目标组件的id，跳到问卷末尾id值为 'end'</span>
      <span class="token literal-property property">dependIds</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'co3'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">maxTargetId</span><span class="token operator">:</span> <span class="token string">'co3'</span><span class="token punctuation">,</span> <span class="token comment">// 条件跳题设置的最远题的id</span>
      <span class="token literal-property property">tempOfJump</span><span class="token operator">:</span> <span class="token string">&quot;let value=this.getValueById('co1');if (this.isEqual(value, 0)) { this.setJumpShow('co1','co3', 'co4'); } else if (this.isEqual(value, '1')){ this.setJumpShow('co1', 'co4', 'co4') }else if (this.isEqual(value, 2)){ this.setJumpShow('co1', 'co2', 'co4') }&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 根据设置跳题逻辑生成的执行语句，通过 getJsonToScript() 生成</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'co1'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'有无化疗史'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'radio'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">groupId</span><span class="token operator">:</span> <span class="token string">'6865885865546092544'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">jumpShow</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">relevanceShow</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">jumpCondition</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">currentId</span><span class="token operator">:</span> <span class="token string">'co1'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">targetMap</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token number">0</span><span class="token operator">:</span> <span class="token string">'co2'</span><span class="token punctuation">,</span>
              <span class="token number">1</span><span class="token operator">:</span> <span class="token string">'end'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">maxTargetId</span><span class="token operator">:</span> <span class="token string">'co2'</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 其他控件</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'co2'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'table'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">groupId</span><span class="token operator">:</span> <span class="token string">'6865885865546092544'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">minLength</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">maxLength</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
        <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
            <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'化疗性质'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'radio'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
            <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'化疗方案'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span> <span class="token comment">// 其他控件</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><h3 id="定制化组件"><a href="#定制化组件" class="header-anchor">#</a> 定制化组件</h3> <ul><li>化疗时间</li> <li><img src="https://static.aistarfish.com/front-release/file/F2023091111073852800002499.1.png" alt="1"></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'co1'</span><span class="token punctuation">,</span> <span class="token comment">// 组件的唯一标识,将使用雪花算法生成，长度19位，如&quot;6865885865546092544&quot;</span>
    <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">'co1'</span><span class="token punctuation">,</span> <span class="token comment">// 组件code, 一个表单内 code 不可重复</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'chemoTime'</span><span class="token punctuation">,</span> <span class="token comment">// 组件类型</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'组件标题'</span><span class="token punctuation">,</span> <span class="token comment">// 组件标题</span>
    <span class="token literal-property property">titleRemark</span><span class="token operator">:</span> <span class="token string">'标题备注'</span><span class="token punctuation">,</span> <span class="token comment">// 标题备注</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 组件值</span>
    <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 组件是否必填</span>
    <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 组件最终展示</span>
    <span class="token literal-property property">jumpShow</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 跳题逻辑结果</span>
    <span class="token literal-property property">relevanceShow</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 关联逻辑结果</span>
    <span class="token literal-property property">jumpCondition</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 跳题逻辑</span>
      <span class="token literal-property property">jumpWay</span><span class="token operator">:</span> <span class="token string">'straight'</span><span class="token punctuation">,</span> <span class="token comment">// 是否无条件跳</span>
      <span class="token literal-property property">unconditionalTargetId</span><span class="token operator">:</span> <span class="token string">'co3'</span><span class="token punctuation">,</span> <span class="token comment">// 跳转目标组件的id，跳到问卷末尾id值为 'end'</span>
      <span class="token literal-property property">targetMap</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> <span class="token comment">// 当选择选项1时, 跳转到co3</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'select'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">dependId</span><span class="token operator">:</span> <span class="token string">'co3'</span><span class="token punctuation">,</span> <span class="token comment">// 依赖组件的id</span>
          <span class="token literal-property property">selectedValue</span><span class="token operator">:</span> <span class="token string">'0'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token punctuation">{</span> <span class="token comment">// 当选择选项2时, 跳转到co4</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'select'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">dependId</span><span class="token operator">:</span> <span class="token string">'co4'</span><span class="token punctuation">,</span> <span class="token comment">// 依赖组件的id</span>
          <span class="token literal-property property">selectedValue</span><span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token punctuation">{</span> <span class="token comment">// 当选择选项3时, 跳转到co2</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'select'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">dependId</span><span class="token operator">:</span> <span class="token string">'co2'</span><span class="token punctuation">,</span> <span class="token comment">// 依赖组件的id</span>
          <span class="token literal-property property">selectedValue</span><span class="token operator">:</span> <span class="token string">'2'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">dependIds</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'co2'</span><span class="token punctuation">,</span> <span class="token string">'co3'</span><span class="token punctuation">,</span> <span class="token string">'co4'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">maxTargetId</span><span class="token operator">:</span> <span class="token string">'co4'</span><span class="token punctuation">,</span> <span class="token comment">// 条件跳题设置的最远题的id</span>
      <span class="token literal-property property">tempOfJump</span><span class="token operator">:</span> <span class="token string">&quot;let value=this.getValueById('co1');if (this.isEqual(value, 0)) { this.setJumpShow('co1','co3', 'co4'); } else if (this.isEqual(value, '1')){ this.setJumpShow('co1', 'co4', 'co4') }else if (this.isEqual(value, 2)){ this.setJumpShow('co1', 'co2', 'co4') }&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 根据设置跳题逻辑生成的执行语句，通过 getJsonToScript() 生成</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">optionsNum</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment">// 选项平铺展示时，每行个数</span>
    <span class="token literal-property property">frequency</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">// 次数</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><p>x</p> <h2 id="表单业务流程"><a href="#表单业务流程" class="header-anchor">#</a> 表单业务流程</h2> <h3 id="迭代示例"><a href="#迭代示例" class="header-anchor">#</a> 迭代示例</h3> <ul><li><img src="//static.aistarfish.com/front-release/file/F2023091111313969000003017.9.png" alt="9"></li></ul> <h3 id="表单状态机"><a href="#表单状态机" class="header-anchor">#</a> 表单状态机</h3> <ul><li><img src="https://static.aistarfish.com/front-release/file/F2023091111295672200008670.8.png" alt="8"></li> <li>草稿态：从表单创建到正式发布之前，表单都处于该种状态</li> <li>上线态：草稿态表单正式发布后或者已下线的表单重新上线后处于的状态</li> <li>下线态：上线态表单下线后处于的状态</li></ul> <h3 id="表单处理流程"><a href="#表单处理流程" class="header-anchor">#</a> 表单处理流程</h3> <h3 id="创建"><a href="#创建" class="header-anchor">#</a> 创建</h3> <ul><li>新建表单的时候，会生成一个表单锁。</li> <li><img src="https://static.aistarfish.com/front-release/file/F2023091111283097600004909.3.svg" alt="3"></li></ul> <h3 id="编辑"><a href="#编辑" class="header-anchor">#</a> 编辑</h3> <h4 id="编辑正在草稿态的表单"><a href="#编辑正在草稿态的表单" class="header-anchor">#</a> 编辑正在草稿态的表单</h4> <ul><li>用户可以直接编辑草稿态表单，不支持并发编辑，编辑每个表单都会需要拿到唯一的编辑表单锁，才能进行编辑。</li> <li><img src="https://static.aistarfish.com/front-release/file/F2023091111232661200003983.2.svg" alt="2"></li></ul> <h4 id="重新编辑发布上线的表单"><a href="#重新编辑发布上线的表单" class="header-anchor">#</a> 重新编辑发布上线的表单</h4> <ul><li>用户可以基于某个已经上线的表单版本进行再编辑</li> <li><img src="https://static.aistarfish.com/front-release/file/F2023091111283097100001388.4.svg" alt=""></li></ul> <h3 id="保存表单-完成编辑"><a href="#保存表单-完成编辑" class="header-anchor">#</a> 保存表单/完成编辑</h3> <ul><li>保存表单，表单状态不变，会对表单的全量内容做先删后加的操作，最后会释放对该表单的锁定。</li> <li><img src="https://static.aistarfish.com/front-release/file/F2023091111283097400001373.5.svg" alt=""></li></ul> <h3 id="发布表单"><a href="#发布表单" class="header-anchor">#</a> 发布表单</h3> <ul><li>发布表单，表单会从草稿态变成上线态，且不可逆转。发布表单前，也会首先获取到表单锁，防止表单还存在正在被人编辑的情况。</li> <li><img src="https://static.aistarfish.com/front-release/file/F2023091111283097700004533.6.svg" alt=""></li></ul> <h3 id="获取表单锁"><a href="#获取表单锁" class="header-anchor">#</a> 获取表单锁</h3> <ul><li>每个表单都会存在唯一一个表单锁。当检查锁时：如果锁有效且所属人为当前用户，则获取成功。当遇到争抢当前锁的情况，会利用数据库的主键冲突和定义锁版本（乐观锁）保证锁的唯一性和有效性。</li> <li><img src="https://static.aistarfish.com/front-release/file/F2023091111283099300000520.7.svg" alt=""></li></ul> <h2 id="特殊逻辑处理"><a href="#特殊逻辑处理" class="header-anchor">#</a> 特殊逻辑处理</h2> <ul><li>从交互逻辑上是不允许设置双向关联关系的，前端的代码逻辑没有做双向绑定的判断，因而没有对这种情况做特殊处理。所以当返回的数据存在双向绑定关系时，预览页面会因为进入死循环而崩溃。</li> <li>处理方法：
<ul><li>后端保存时对数据依赖关系做校验；</li> <li>出现双向绑定时，前端对此做特殊处理。当控件间存在异常的关联关系时(跳题逻辑直接关联此题之后的题目，关联只能关联此题前面的题，违反了此条件视为异常)，清除异常的关联关系。</li></ul></li></ul> <h3 id="后端实现方案"><a href="#后端实现方案" class="header-anchor">#</a> 后端实现方案</h3> <ul><li>由前端传过来的控件存在依赖关系，为了防止存在双向依赖，需要通过校验，防止出现依赖闭环出现。其实是在一堆有向节点中，将有向节点路径找出闭环来。</li> <li>具体步骤：
<ul><li>1.记录所有的依赖节点和依赖关系</li> <li>2.构建依赖模型，初始化有向树（或者构建一个矩阵）</li> <li>3.循环递归遍历每个节点的所有依赖（深度优先）</li></ul></li></ul> <h3 id="前端实现方案"><a href="#前端实现方案" class="header-anchor">#</a> 前端实现方案</h3> <ul><li>可以跟进依赖关系，构建一个链表的数据，然后判断有无环。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * Definition for singly-linked list.
 * function ListNode(val) {
 *     this.val = val;
 *     this.next = null;
 * }
 */</span>

<span class="token comment">/**
 * @param {ListNode} head
 * @return {boolean}
 */</span>
<span class="token keyword">var</span> <span class="token function-variable function">hasCycle</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">head</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> p1 <span class="token operator">=</span> head
    <span class="token keyword">let</span> p2 <span class="token operator">=</span> head
    <span class="token keyword">while</span><span class="token punctuation">(</span>p1 <span class="token operator">&amp;&amp;</span> p2 <span class="token operator">&amp;&amp;</span> p2<span class="token punctuation">.</span>next<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        p1 <span class="token operator">=</span> p1<span class="token punctuation">.</span>next
        p2 <span class="token operator">=</span> p2<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next
        <span class="token keyword">if</span><span class="token punctuation">(</span>p1 <span class="token operator">===</span> p2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>参考<code>leecode</code>:https://leetcode.cn/classic/problems/linked-list-cycle/description</li></ul> <h2 id="三方库使用"><a href="#三方库使用" class="header-anchor">#</a> 三方库使用</h2> <ul><li>拖拽库: <code>react-beautiful-dnd</code></li> <li>全局id生成库：<code>snowflake-id</code></li></ul></div></section> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/practice/form_config_evaluation.html#表单控件类型" class="sidebar-link reco-side-表单控件类型" data-v-b57cc07c>表单控件类型</a></li><li class="level-2" data-v-b57cc07c><a href="/practice/form_config_evaluation.html#表单控件属性" class="sidebar-link reco-side-表单控件属性" data-v-b57cc07c>表单控件属性</a></li><li class="level-3" data-v-b57cc07c><a href="/practice/form_config_evaluation.html#属性列表" class="sidebar-link reco-side-属性列表" data-v-b57cc07c>属性列表</a></li><li class="level-2" data-v-b57cc07c><a href="/practice/form_config_evaluation.html#各类题型的数据结构" class="sidebar-link reco-side-各类题型的数据结构" data-v-b57cc07c>各类题型的数据结构</a></li><li class="level-3" data-v-b57cc07c><a href="/practice/form_config_evaluation.html#选择题-单选" class="sidebar-link reco-side-选择题-单选" data-v-b57cc07c>选择题（单选）</a></li><li class="level-3" data-v-b57cc07c><a href="/practice/form_config_evaluation.html#选择题-多选" class="sidebar-link reco-side-选择题-多选" data-v-b57cc07c>选择题（多选）</a></li><li class="level-3" data-v-b57cc07c><a href="/practice/form_config_evaluation.html#填空题" class="sidebar-link reco-side-填空题" data-v-b57cc07c>填空题</a></li><li class="level-3" data-v-b57cc07c><a href="/practice/form_config_evaluation.html#控件组" class="sidebar-link reco-side-控件组" data-v-b57cc07c>控件组</a></li><li class="level-3" data-v-b57cc07c><a href="/practice/form_config_evaluation.html#定制化组件" class="sidebar-link reco-side-定制化组件" data-v-b57cc07c>定制化组件</a></li><li class="level-2" data-v-b57cc07c><a href="/practice/form_config_evaluation.html#表单业务流程" class="sidebar-link reco-side-表单业务流程" data-v-b57cc07c>表单业务流程</a></li><li class="level-3" data-v-b57cc07c><a href="/practice/form_config_evaluation.html#迭代示例" class="sidebar-link reco-side-迭代示例" data-v-b57cc07c>迭代示例</a></li><li class="level-3" data-v-b57cc07c><a href="/practice/form_config_evaluation.html#表单状态机" class="sidebar-link reco-side-表单状态机" data-v-b57cc07c>表单状态机</a></li><li class="level-3" data-v-b57cc07c><a href="/practice/form_config_evaluation.html#表单处理流程" class="sidebar-link reco-side-表单处理流程" data-v-b57cc07c>表单处理流程</a></li><li class="level-3" data-v-b57cc07c><a href="/practice/form_config_evaluation.html#创建" class="sidebar-link reco-side-创建" data-v-b57cc07c>创建</a></li><li class="level-3" data-v-b57cc07c><a href="/practice/form_config_evaluation.html#编辑" class="sidebar-link reco-side-编辑" data-v-b57cc07c>编辑</a></li><li class="level-3" data-v-b57cc07c><a href="/practice/form_config_evaluation.html#保存表单-完成编辑" class="sidebar-link reco-side-保存表单-完成编辑" data-v-b57cc07c>保存表单/完成编辑</a></li><li class="level-3" data-v-b57cc07c><a href="/practice/form_config_evaluation.html#发布表单" class="sidebar-link reco-side-发布表单" data-v-b57cc07c>发布表单</a></li><li class="level-3" data-v-b57cc07c><a href="/practice/form_config_evaluation.html#获取表单锁" class="sidebar-link reco-side-获取表单锁" data-v-b57cc07c>获取表单锁</a></li><li class="level-2" data-v-b57cc07c><a href="/practice/form_config_evaluation.html#特殊逻辑处理" class="sidebar-link reco-side-特殊逻辑处理" data-v-b57cc07c>特殊逻辑处理</a></li><li class="level-3" data-v-b57cc07c><a href="/practice/form_config_evaluation.html#后端实现方案" class="sidebar-link reco-side-后端实现方案" data-v-b57cc07c>后端实现方案</a></li><li class="level-3" data-v-b57cc07c><a href="/practice/form_config_evaluation.html#前端实现方案" class="sidebar-link reco-side-前端实现方案" data-v-b57cc07c>前端实现方案</a></li><li class="level-2" data-v-b57cc07c><a href="/practice/form_config_evaluation.html#三方库使用" class="sidebar-link reco-side-三方库使用" data-v-b57cc07c>三方库使用</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/assets/js/app.464ee3e9.js" defer></script><script src="/assets/js/3.ea6371c1.js" defer></script><script src="/assets/js/1.51666839.js" defer></script><script src="/assets/js/42.ab3ca26f.js" defer></script>
  </body>
</html>
