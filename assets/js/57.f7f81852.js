(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{453:function(t,a,s){"use strict";s.r(a);var e=s(3),r=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"taro-2-0-升级到-3-0-记录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#taro-2-0-升级到-3-0-记录"}},[t._v("#")]),t._v(" Taro 2.0 升级到 3.0 记录")]),t._v(" "),a("h2",{attrs:{id:"api变更"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api变更"}},[t._v("#")]),t._v(" API变更")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// old")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Taro"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useDidShow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" useDidHide"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" useState"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" useEffect "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@tarojs/taro'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// new ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useState"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" useEffect "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Taro"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useDidShow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" useDidHide "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@tarojs/taro'")]),t._v("\n\n")])])]),a("h2",{attrs:{id:"containview引入去掉"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#containview引入去掉"}},[t._v("#")]),t._v(" containView引入去掉"),a("code",[t._v("{}")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// old")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" ContainView "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/providers/basisProvider/components/ContainView'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// new")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ContainView "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/providers/basisProvider/components/ContainView'")]),t._v("\n\n")])])]),a("h2",{attrs:{id:"基础组件必须声明-如view、image、text"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基础组件必须声明-如view、image、text"}},[t._v("#")]),t._v(" 基础组件必须声明，如View、Image、Text...")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 项目使用到的组件，必须引入")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" View"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Image"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ScrollView "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@tarojs/components"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"组件、页面-return不能返回undefined-或者不写return"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件、页面-return不能返回undefined-或者不写return"}},[t._v("#")]),t._v(" 组件、页面，return不能返回undefined 或者不写return")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// old ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    isShowBall "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("View className"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hx-signIn-ball"')]),t._v(" onClick"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" toHaiXin "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("View"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// new  ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    isShowBall "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("View className"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hx-signIn-ball"')]),t._v(" onClick"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" toHaiXin "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("View"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("View "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \n")])])]),a("h2",{attrs:{id:"class组件、页面-必须声明state"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#class组件、页面-必须声明state"}},[t._v("#")]),t._v(" class组件、页面，必须声明state")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Index")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Component")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 若有使用到this.state，则必须声明")]),t._v("\n  state "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"组件引入必须以大写开头"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件引入必须以大写开头"}},[t._v("#")]),t._v(" 组件引入必须以大写开头")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// old")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" idCardCheckModal "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/module-basis/components/idCardCheckModal'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// new")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" IdCardCheckModal "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/module-basis/components/idCardCheckModal'")]),t._v("\n\n")])])]),a("h2",{attrs:{id:"数字0不是false"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数字0不是false"}},[t._v("#")]),t._v(" 数字0不是false")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" num "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// old")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" num "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("View"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("View"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// new")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" num "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("View"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("View"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n")])])]),a("h2",{attrs:{id:"taro-createselectorquery使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#taro-createselectorquery使用"}},[t._v("#")]),t._v(" Taro.createSelectorQuery使用")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// old")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" query "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Taro"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createSelectorQuery")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("in")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("scope"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// new ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" query "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Taro"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createSelectorQuery")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("h2",{attrs:{id:"页面获取传入参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面获取传入参数"}},[t._v("#")]),t._v(" 页面获取传入参数")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// old")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" params "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$router"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// new")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" params "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Taro"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCurrentInstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("router"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params\n")])])]),a("h2",{attrs:{id:"boolean值的返回"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#boolean值的返回"}},[t._v("#")]),t._v(" boolean值的返回")]),t._v(" "),a("ul",[a("li",[t._v("请确保 "),a("code",[t._v("&&")]),t._v(" 两侧的值都是"),a("code",[t._v("boolean")]),t._v("值，否则会报一个错误信息："),a("code",[t._v("Cannot read property '__wxElement' of null")])])]),t._v(" "),a("h2",{attrs:{id:"页面中使用fragments导致元素不可见"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面中使用fragments导致元素不可见"}},[t._v("#")]),t._v(" 页面中使用"),a("code",[t._v("fragments")]),t._v("导致元素不可见")]),t._v(" "),a("ul",[a("li",[t._v("使用"),a("code",[t._v("Block")]),t._v("标签代替")])]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// old ")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("fragments")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v(" ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("View")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("xxx")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("View")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("fragments")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// new")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Block")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v(" ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("View")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("View")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Block")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h2",{attrs:{id:"页面跳转参数不会自动decode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面跳转参数不会自动decode"}},[t._v("#")]),t._v(" 页面跳转参数不会自动decode")]),t._v(" "),a("ul",[a("li",[t._v("需要自己手动对全部参数"),a("code",[t._v("decode")]),t._v("或者按需对"),a("code",[t._v("encode")]),t._v("会发生变化的参数"),a("code",[t._v("decode")])]),t._v(" "),a("li",[t._v("为了方便，进行全局封装，使用"),a("code",[t._v("util")]),t._v("中的"),a("code",[t._v("decodeObject")]),t._v("方法")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$instance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("router"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取带过来的参数时 taro2原生页面跳转会自动decode 但是taro3不会")]),t._v("\n")])])]),a("h2",{attrs:{id:"获取页面节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取页面节点"}},[t._v("#")]),t._v(" 获取页面节点")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://taro-docs.jd.com/taro/blog/2020-09-01-taro-versions#%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E9%A1%B5%E9%9D%A2%E8%8A%82%E7%82%B9%E4%BF%A1%E6%81%AF",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://taro-docs.jd.com/taro/blog/2020-09-01-taro-versions#%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E9%A1%B5%E9%9D%A2%E8%8A%82%E7%82%B9%E4%BF%A1%E6%81%AF"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://taro-docs.jd.com/taro/docs/react-page#%E5%AD%90%E7%BB%84%E4%BB%B6%E7%9A%84-onready",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://taro-docs.jd.com/taro/docs/react-page#%E5%AD%90%E7%BB%84%E4%BB%B6%E7%9A%84-onready"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("img",{attrs:{src:"https://static.aistarfish.com/front-release/file/F2023090415561415900003895.image.png",alt:"image1.png"}})]),t._v(" "),a("li",[a("img",{attrs:{src:"https://static.aistarfish.com/front-release/file/F2023090415561418600005666.2.png",alt:"image2.png"}})]),t._v(" "),a("li",[t._v("如果发现获取不到组件 尝试用"),a("code",[t._v("nextTick")]),t._v("包裹")]),t._v(" "),a("li",[a("code",[t._v("层级太深")]),t._v(" 也会影响组件的获取。因为超过"),a("code",[t._v("16层级")]),t._v("变自定义组件的问题 这时需要用到后代选择器"),a("code",[t._v(">>>")]),t._v("父选择器拿非自定义组件")])]),t._v(" "),a("h2",{attrs:{id:"taro2样式隔离"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#taro2样式隔离"}},[t._v("#")]),t._v(" Taro2样式隔离")]),t._v(" "),a("ul",[a("li",[t._v("Taro3中没有自定义组件 所以样式不隔离了,得采用"),a("code",[t._v("BEM")]),t._v("写法或使用"),a("code",[t._v("CSS Module")])])]),t._v(" "),a("h2",{attrs:{id:"id、classname属性传递变化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#id、classname属性传递变化"}},[t._v("#")]),t._v(" id、className属性传递变化")]),t._v(" "),a("ul",[a("li",[t._v("因为taro3中没有自定义控件了(除非层级过深 或手动指定)，因此给组件设置的id、className不会展示在dom上，需要透传到内部的真实dom上")]),t._v(" "),a("li",[a("img",{attrs:{src:"https://static.aistarfish.com/front-release/file/F2023090415590432100001621.image3.png",alt:"image3.png"}})])]),t._v(" "),a("h2",{attrs:{id:"获取路由参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取路由参数"}},[t._v("#")]),t._v(" 获取路由参数")]),t._v(" "),a("ul",[a("li",[t._v("跳转成功后，在目标页面的"),a("strong",[t._v("生命周期")]),t._v("方法中，可以通过 "),a("code",[t._v("Taro.getCurrentInstance().router.params")]),t._v(" 获取路由参数")]),t._v(" "),a("li",[a("img",{attrs:{src:"https://static.aistarfish.com/front-release/file/F2023090415590435400005441.image4.png",alt:"image4.png"}})]),t._v(" "),a("li",[t._v("按照官方文档，在页面开头去$instance =getCurrentInstance()，页面跳转的时候若会执行router.params,就会报错")]),t._v(" "),a("li",[a("img",{attrs:{src:"https://static.aistarfish.com/front-release/file/F2023090415590440300000420.image5.png",alt:"image5.png"}})]),t._v(" "),a("li",[t._v("解决方案： 在页面一开始的时候，就去处router.params的值作为一个变量，"),a("code",[t._v("routerParams = getCurrentInstance().router.params")])]),t._v(" "),a("li",[a("img",{attrs:{src:"https://static.aistarfish.com/front-release/file/F2023090416043108000000766.image7.png",alt:"image7.png"}})]),t._v(" "),a("li",[a("img",{attrs:{src:"https://static.aistarfish.com/front-release/file/F2023090415590432600006696.image6.png",alt:"image6.png"}})]),t._v(" "),a("li",[a("img",{attrs:{src:"https://static.aistarfish.com/front-release/file/F2023090416043107900006953.image8.png",alt:"image8.png"}})])]),t._v(" "),a("p",[t._v("hooks组件中可以换成useRouter "),a("a",{attrs:{href:"https://taro-docs.jd.com/docs/hooks#userouter",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://taro-docs.jd.com/docs/hooks#userouter"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"判空写法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#判空写法"}},[t._v("#")]),t._v(" 判空写法")]),t._v(" "),a("ul",[a("li",[t._v("在Taro3中，可以使用"),a("code",[t._v("?.")]),t._v("的形式语法糖，进行判空取值")])]),t._v(" "),a("h2",{attrs:{id:"在taro3中-scrollview横向滚动时-会出现滚动条且不会隐藏-可通过设置css隐藏"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在taro3中-scrollview横向滚动时-会出现滚动条且不会隐藏-可通过设置css隐藏"}},[t._v("#")]),t._v(" 在Taro3中，ScrollView横向滚动时，会出现滚动条且不会隐藏， 可通过设置css隐藏")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("webkit"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("scrollbar "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("display")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" none"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//设置隐藏")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("important"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//设置大小")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("height")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("important"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//设置大小")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("webkit"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("appearance"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" none"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("background")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" transparent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"在taro3中频繁setstate会造成页面卡顿可以尝试解决"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在taro3中频繁setstate会造成页面卡顿可以尝试解决"}},[t._v("#")]),t._v(" 在Taro3中频繁"),a("code",[t._v("setState")]),t._v("会造成页面卡顿可以尝试解决")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://taro-docs.jd.com/taro/docs/optimized#2-customwrapper-%E7%BB%84%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://taro-docs.jd.com/taro/docs/optimized#2-customwrapper-%E7%BB%84%E4%BB%B6"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"button-onclick-this指向的问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#button-onclick-this指向的问题"}},[t._v("#")]),t._v(" button onclick  this指向的问题")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("handleBack this")]),t._v("指向了"),a("code",[t._v("button")]),t._v("而不是页面，导致报错。所以这里取参数会报错，所以"),a("code",[t._v("handleBack")]),t._v("得用箭头函数")]),t._v(" "),a("li",[a("img",{attrs:{src:"https://static.aistarfish.com/front-release/file/F2023090416085182700001175.image9.png",alt:"image9.png"}})]),t._v(" "),a("li",[a("img",{attrs:{src:"https://static.aistarfish.com/front-release/file/F2023090416085186200001884.image10.png",alt:"image10.png"}})])]),t._v(" "),a("h2",{attrs:{id:"taro3-相对比taro2获取小程序启动参数少了-params"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#taro3-相对比taro2获取小程序启动参数少了-params"}},[t._v("#")]),t._v(" Taro3 相对比taro2获取小程序启动参数少了"),a("code",[t._v(".params")])]),t._v(" "),a("ul",[a("li",[t._v("Taro3:")]),t._v(" "),a("li",[a("img",{attrs:{src:"https://static.aistarfish.com/front-release/file/F2023090416085182600009258.image11.png",alt:"image11.png"}})]),t._v(" "),a("li",[t._v("Taro2:")]),t._v(" "),a("li",[a("img",{attrs:{src:"https://static.aistarfish.com/front-release/file/F2023090416085175600001450.image12.png",alt:"image12.png"}})])]),t._v(" "),a("h2",{attrs:{id:"埋点sdk使用方式修改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#埋点sdk使用方式修改"}},[t._v("#")]),t._v(" 埋点sdk使用方式修改")]),t._v(" "),a("ul",[a("li",[a("img",{attrs:{src:"https://static.aistarfish.com/front-release/file/F2023090416085182700001175.image9.png",alt:"image13.png"}})]),t._v(" "),a("li",[t._v("1."),a("code",[t._v("scope")]),t._v("使用"),a("code",[t._v("Taro.getCurrentInstance().page")]),t._v("。")]),t._v(" "),a("li",[t._v("2."),a("code",[t._v("element")]),t._v("中，若页面使用了"),a("code",[t._v("cssModule")]),t._v("，需要改成"),a("code",[t._v("cssModule")]),t._v("格式。")]),t._v(" "),a("li",[t._v("3."),a("code",[t._v("root")]),t._v("使用的"),a("code",[t._v("id、className")]),t._v("，确定在"),a("code",[t._v("dom")]),t._v("中存在。因为Taro3中没有自定义控件了，因此给组件设置的"),a("code",[t._v("id、className")]),t._v("不会展示在"),a("code",[t._v("dom")]),t._v("上，需要透传到内部的"),a("code",[t._v("View")]),t._v("上")])])])}),[],!1,null,null,null);a.default=r.exports}}]);