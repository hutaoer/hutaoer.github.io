(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{379:function(e,a,t){"use strict";t.r(a);var v=t(45),_=Object(v.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"命令行工具开发总结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命令行工具开发总结"}},[e._v("#")]),e._v(" 命令行工具开发总结")]),e._v(" "),t("h2",{attrs:{id:"commander"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#commander"}},[e._v("#")]),e._v(" "),t("code",[e._v("commander")])]),e._v(" "),t("ul",[t("li",[e._v("这个包大家都非常熟悉了，有一些坑需要注意。")])]),e._v(" "),t("h3",{attrs:{id:"命令-command"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命令-command"}},[e._v("#")]),e._v(" 命令："),t("code",[e._v("command")])]),e._v(" "),t("ul",[t("li",[e._v("在执行命令的时候，有两种方式，一种可执行文件的方式，一种是在代码中直接编写。")]),e._v(" "),t("li",[e._v("当使用第一种方式的时候，"),t("code",[e._v(".command()")]),e._v("带有描述参数时，就意味着使用独立的可执行文件作为子命令。需要两个参数，和提供一个文件，比如你的命令行工具叫做"),t("code",[e._v("my-tool")]),e._v("，那么对应的文件名就是"),t("code",[e._v("my-tool-init")]),e._v("。当然，也可以通过配置选项"),t("code",[e._v("executableFile")]),e._v("可以自定义名字。如果该命令需要支持全局安装，请确保有对应的权限，例如"),t("code",[e._v("755")]),e._v("。")]),e._v(" "),t("li",[e._v("第二种方式，使用的参数不一样，需要提供一个函数回调，"),t("code",[e._v("program.action((source, destination) => {// do something})")])])]),e._v(" "),t("h3",{attrs:{id:"参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参数"}},[e._v("#")]),e._v(" 参数")]),e._v(" "),t("ul",[t("li",[e._v("在传参的时候，可以使用必选"),t("code",[e._v("<params>")]),e._v("或者可选"),t("code",[e._v("[params]")])]),e._v(" "),t("li",[e._v("在参数后面加上"),t("code",[e._v("...")]),e._v("代表可变参数。")])]),e._v(" "),t("h3",{attrs:{id:"其他"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[e._v("#")]),e._v(" 其他")]),e._v(" "),t("ul",[t("li",[e._v("帮助信息是 "),t("code",[e._v("Commander")]),e._v(" 基于你的程序自动生成的，默认的帮助选项是"),t("code",[e._v("-h,--help")]),e._v("。")]),e._v(" "),t("li",[t("code",[e._v("program.parse")]),e._v("的第一个参数是要解析的字符串数组，也可以省略参数而使用"),t("code",[e._v("process.argv")]),e._v("。")]),e._v(" "),t("li",[e._v("最新版的"),t("code",[e._v("commander")]),e._v("，要求的 "),t("code",[e._v("Node")]),e._v(" 版本应不低于v12。")]),e._v(" "),t("li",[e._v("官方提供一些"),t("a",{attrs:{href:"https://github.com/tj/commander.js/blob/a9c9f17c7eff96b8da8c2b9d01751d41f1eb0ae3/docs/zh-CN/%E4%B8%8D%E5%86%8D%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8%E7%9A%84%E5%8A%9F%E8%83%BD.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("不再推荐使用的功能"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=_.exports}}]);