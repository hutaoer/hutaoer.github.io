(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{538:function(t,s,e){"use strict";e.r(s);var a=e(2),r=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"eslint-学习笔记"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#eslint-学习笔记"}},[t._v("#")]),t._v(" eslint 学习笔记")]),t._v(" "),s("h2",{attrs:{id:"项目安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目安装"}},[t._v("#")]),t._v(" 项目安装")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("npm install eslint -D")]),t._v(" or "),s("code",[t._v("npm install eslint --save-dev")])]),t._v(" "),s("li",[t._v("然后在项目内生成eslint的配置文件，"),s("code",[t._v("npx eslint --init")]),t._v(" or "),s("code",[t._v("./node_modules/.bin/eslint --init")])])]),t._v(" "),s("h2",{attrs:{id:"配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置文件"}},[t._v("#")]),t._v(" 配置文件")]),t._v(" "),s("ul",[s("li",[t._v("优先级顺序："),s("code",[t._v(".eslintrc.js > .eslintrc.yaml > .eslintrc.yml > .eslintrc.json > .eslintrc > package.json")])])]),t._v(" "),s("h3",{attrs:{id:"env"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#env"}},[t._v("#")]),t._v(" env")]),t._v(" "),s("ul",[s("li",[t._v("用于指定启用的环境，并设置它们为 true。")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"env"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"browser"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"node"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"常见的环境配置项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常见的环境配置项"}},[t._v("#")]),t._v(" 常见的环境配置项")]),t._v(" "),s("ul",[s("li",[t._v("browser - 浏览器环境中的全局变量。")]),t._v(" "),s("li",[t._v("node - Node.js 全局变量和 Node.js 作用域。")]),t._v(" "),s("li",[t._v("es6 - 启用除了 modules 以外的所有 ECMAScript 6 特性（该选项会自动设置 ecmaVersion 解析器选项为 6）。")])]),t._v(" "),s("h3",{attrs:{id:"extends"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#extends"}},[t._v("#")]),t._v(" extends")]),t._v(" "),s("ul",[s("li",[t._v("用来扩展配置或开启一个规则。")]),t._v(" "),s("li",[s("code",[t._v("extends")]),t._v(" 属性值可以省略包名的前缀 "),s("code",[t._v("eslint-config-")]),t._v("，比如，"),s("code",[t._v("eslint-config-standard")]),t._v("。")]),t._v(" "),s("li",[t._v("使用配置如下："),s("code",[t._v('"extends": "standard"')])]),t._v(" "),s("li",[s("code",[t._v('"eslint":"all"')]),t._v("，启用当前安装的 ESLint 中所有的核心规则。")]),t._v(" "),s("li",[s("code",[t._v('"eslint:recommended"')]),t._v(" 的 extends 属性启用一系列核心规则，这些规则报告一些常见问题。")])]),t._v(" "),s("h3",{attrs:{id:"parseroptions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#parseroptions"}},[t._v("#")]),t._v(" parserOptions")]),t._v(" "),s("ul",[s("li",[t._v("解析器选项。")]),t._v(" "),s("li",[s("code",[t._v("ecmaVersion")]),t._v(" 指定想使用的 "),s("code",[t._v("ECMAScript")]),t._v(" 版本，年份和数字都可以使用，比如 2015（年份）和6（版本）代表一个意思，都是指 ES6")]),t._v(" "),s("li",[s("code",[t._v("sourceType")]),t._v("，代码是 ECMAScript 模块，则设置为"),s("code",[t._v("module")]),t._v("，默认为为"),s("code",[t._v("script")])]),t._v(" "),s("li",[s("code",[t._v("ecmaFeatures")]),t._v(", 表示想使用额外的语言特性，例如"),s("code",[t._v('"jsx":true')]),t._v("，表示启用"),s("code",[t._v("JSX")])])]),t._v(" "),s("h3",{attrs:{id:"plugins"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#plugins"}},[t._v("#")]),t._v(" plugins")]),t._v(" "),s("ul",[s("li",[t._v("支持第三方插件。")]),t._v(" "),s("li",[t._v("插件名称可以省略 eslint-plugin- 前缀。")]),t._v(" "),s("li",[t._v("当指定来自插件的规则时，确保删除 "),s("code",[t._v("eslint-plugin-")]),t._v(" 前缀。ESLint 在内部只使用没有前缀的名称去定位规则。")])]),t._v(" "),s("h4",{attrs:{id:"常见插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常见插件"}},[t._v("#")]),t._v(" 常见插件")]),t._v(" "),s("ul",[s("li",[t._v("如果你正在使用 React 并且想要 React 语义支持，我们建议你使用 "),s("code",[t._v("eslint-plugin-react")]),t._v("。")])]),t._v(" "),s("h3",{attrs:{id:"rules"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rules"}},[t._v("#")]),t._v(" rules")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"rules"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"semi"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"error"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"always"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"quotes"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"error"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"double"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ul",[s("li",[s("code",[t._v("semi")]),t._v(" 对应eslint的规则。")])]),t._v(" "),s("h4",{attrs:{id:"错误级别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#错误级别"}},[t._v("#")]),t._v(" 错误级别")]),t._v(" "),s("ul",[s("li",[t._v('"off" or 0 - 关闭规则')]),t._v(" "),s("li",[t._v('"warn" or 1 - 将规则视为一个警告（不会影响退出码）')]),t._v(" "),s("li",[t._v('"error" or 2 - 将规则视为一个错误 (退出码为1)')])]),t._v(" "),s("h3",{attrs:{id:"globals"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#globals"}},[t._v("#")]),t._v(" globals")]),t._v(" "),s("ul",[s("li",[t._v("指定一些全局变量，否则当前源文件内有声明的变量时，"),s("code",[t._v("no-undef")]),t._v(" 规则将发出警告。")])]),t._v(" "),s("h2",{attrs:{id:"配置查找"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置查找"}},[t._v("#")]),t._v(" 配置查找")]),t._v(" "),s("ul",[s("li",[t._v("为了将 ESLint 限制到一个特定的项目，可以设置"),s("code",[t._v("root: true")]),t._v("，这样它就会停止在父级目录中寻找。")]),t._v(" "),s("li",[t._v("项目级配置：\n"),s("ul",[s("li",[t._v("与要检测的文件在同一目录下的 "),s("code",[t._v(".eslintrc.*")]),t._v(" 或 "),s("code",[t._v("package.json")]),t._v(" 文件")]),t._v(" "),s("li",[t._v("继续在父级目录寻找 "),s("code",[t._v(".eslintrc")]),t._v(" 或 "),s("code",[t._v("package.json")]),t._v("文件，直到根目录（包括根目录）或直到发现一个有"),s("code",[t._v('"root": true')]),t._v("的配置。")])])])]),t._v(" "),s("h2",{attrs:{id:"注释"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注释"}},[t._v("#")]),t._v(" 注释")]),t._v(" "),s("h3",{attrs:{id:"单个规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#单个规则"}},[t._v("#")]),t._v(" 单个规则")]),t._v(" "),s("ul",[s("li",[t._v("在出现问题的代码上面，加入注释来规避代码检查，例如：")]),t._v(" "),s("li",[s("code",[t._v('/* eslint no-unused-vars: "off" */')])]),t._v(" "),s("li",[s("code",[t._v("/* eslint no-unused-vars: 0 */")])]),t._v(" "),s("li",[s("code",[t._v('/* eslint no-unused-vars: ["warn"]*/')])])]),t._v(" "),s("h3",{attrs:{id:"针对代码块"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#针对代码块"}},[t._v("#")]),t._v(" 针对代码块")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* eslint-disable */")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* eslint-enable */")]),t._v("\n")])])]),s("h3",{attrs:{id:"针对整个文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#针对整个文件"}},[t._v("#")]),t._v(" 针对整个文件")]),t._v(" "),s("ul",[s("li",[t._v("如果在整个文件范围内禁止规则出现警告，将"),s("code",[t._v("/* eslint-disable */")]),t._v(" 块注释放在文件顶部")])]),t._v(" "),s("h2",{attrs:{id:"忽略检查"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#忽略检查"}},[t._v("#")]),t._v(" 忽略检查")]),t._v(" "),s("ul",[s("li",[t._v("配置"),s("code",[t._v(".eslintignore")]),t._v("，来忽略特定的文件和目录。")]),t._v(" "),s("li",[t._v("除了 "),s("code",[t._v(".eslintignore")]),t._v(" 文件中的模式，ESLint总是忽略 "),s("code",[t._v("/node_modules/*")]),t._v(" 和 "),s("code",[t._v("/bower_components/*")]),t._v(" 中的文件。")])]),t._v(" "),s("h2",{attrs:{id:"同-prettier-区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#同-prettier-区别"}},[t._v("#")]),t._v(" 同 prettier 区别")]),t._v(" "),s("ul",[s("li",[t._v("eslint（包括其他一些 lint 工具）的主要功能包含代码格式的校验，代码质量的校验。")]),t._v(" "),s("li",[t._v("prettier 只是代码格式的校验（并格式化代码），不会对代码质量进行校验，能够统一你或者你的团队的代码风格。")]),t._v(" "),s("li",[t._v("它并不关心你的语法是否正确，只关心你的代码格式.")]),t._v(" "),s("li",[t._v("在 ESLint 推出 --fix 命令行参数之后，如果你觉得 ESLint 提供的格式化代码够用了，也可以不使用 Prettier。")])]),t._v(" "),s("h3",{attrs:{id:"prettier-与-eslint-冲突"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#prettier-与-eslint-冲突"}},[t._v("#")]),t._v(" prettier 与 eslint 冲突")])])}),[],!1,null,null,null);s.default=r.exports}}]);