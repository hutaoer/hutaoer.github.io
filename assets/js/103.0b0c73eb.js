(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{497:function(t,e,s){"use strict";s.r(e);var a=s(3),r=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"reflect-学习"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#reflect-学习"}},[t._v("#")]),t._v(" Reflect 学习")]),t._v(" "),e("h2",{attrs:{id:"概念"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#概念"}},[t._v("#")]),t._v(" 概念")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Reflect")]),t._v(" 是一个内置的对象，它提供拦截 "),e("code",[t._v("JavaScript")]),t._v(" 操作的方法，它的所有属性和方法都是静态的。")]),t._v(" "),e("li",[t._v("看完 "),e("code",[t._v("MDN")]),t._v(" 的文档，发现 "),e("code",[t._v("Reflect")]),t._v("的这些"),e("code",[t._v("API")]),t._v("，都能找到可替代的方法。但"),e("code",[t._v("Reflect")]),t._v("有个更好的特性，就是可以通过"),e("code",[t._v("API")]),t._v("调用的返回值知道是否成功，且不会因为报错而中断正常的代码逻辑。")]),t._v(" "),e("li",[e("code",[t._v("Reflect")]),t._v(" 的中文意思是"),e("code",[t._v("反射")]),t._v("，通俗的讲，反射机制指的是程序在运行时能够获取自身的信息。")])]),t._v(" "),e("h2",{attrs:{id:"方法介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#方法介绍"}},[t._v("#")]),t._v(" 方法介绍")]),t._v(" "),e("h3",{attrs:{id:"apply"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#apply"}},[t._v("#")]),t._v(" apply")]),t._v(" "),e("ul",[e("li",[t._v("通过指定的参数列表发起对目标(target)函数的调用。")]),t._v(" "),e("li",[t._v("类似"),e("code",[t._v("Function.prototype.apply")])]),t._v(" "),e("li",[t._v("例子："),e("code",[t._v("Reflect.apply(Math.floor, undefined, [1.75])")])])]),t._v(" "),e("h3",{attrs:{id:"construct"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#construct"}},[t._v("#")]),t._v(" construct")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Reflect.construct(target, argumentsList[, newTarget])")])]),t._v(" "),e("li",[t._v("对构造函数执行"),e("code",[t._v("new")]),t._v("操作。")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("OneClass")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'one'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("OtherClass")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'other'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" obj1 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Reflect"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("construct")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("OneClass"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" OtherClass"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nobj1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ‘one’")]),t._v("\nobj1 "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OtherClass")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\nobj1 "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OneClass")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false")]),t._v("\n")])])]),e("h3",{attrs:{id:"defineproperty"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#defineproperty"}},[t._v("#")]),t._v(" defineProperty")]),t._v(" "),e("ul",[e("li",[t._v("与"),e("code",[t._v("Object.defineProperty")]),t._v("类似。设置后，会返回布尔值。")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" o "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nReflect"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("o"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hutaoer'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\no"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'hutaoer'")]),t._v("\n")])])]),e("h3",{attrs:{id:"deleteproperty"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deleteproperty"}},[t._v("#")]),t._v(" deleteProperty")]),t._v(" "),e("ul",[e("li",[t._v("相当于执行"),e("code",[t._v("delete target[name]")]),t._v("，用来删除对象的某个熟悉。返回一个布尔值，表明是否删除成功。")]),t._v(" "),e("li",[t._v("删除一个不存在的属性，也是返回"),e("code",[t._v("true")])])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" o "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("n")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nReflect"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("deleteProperty")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("o"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'n'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// return true")]),t._v("\n")])])]),e("h3",{attrs:{id:"get"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#get"}},[t._v("#")]),t._v(" get")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Reflect.get(target, propertyName[, receiver])")])]),t._v(" "),e("li",[t._v("类似"),e("code",[t._v("target[name]")]),t._v("，获取对象上某个属性。")]),t._v(" "),e("li",[t._v("注意：如果"),e("code",[t._v("target")]),t._v("对象中指定了"),e("code",[t._v("getter")]),t._v("，"),e("code",[t._v("receiver")]),t._v("则为"),e("code",[t._v("getter")]),t._v("调用时的"),e("code",[t._v("this")]),t._v("值。")])]),t._v(" "),e("h3",{attrs:{id:"getprototypeof"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#getprototypeof"}},[t._v("#")]),t._v(" getPrototypeOf")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Reflect.getPrototypeOf(target)")])]),t._v(" "),e("li",[t._v("返回指定对象的原型属性的值。")]),t._v(" "),e("li",[e("code",[t._v("Reflect.getPrototypeOf(Reflect.getPrototypeOf({})) // null")])])]),t._v(" "),e("h3",{attrs:{id:"has"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#has"}},[t._v("#")]),t._v(" has")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Reflect.has(target, propertyKey)")])]),t._v(" "),e("li",[t._v("判断某个对象上面是否存在某个属性。同"),e("code",[t._v("in")]),t._v("运算符。")]),t._v(" "),e("li",[t._v("如果指定的属性在指定的对象或其原型链中，则in 运算符返回true。")]),t._v(" "),e("li",[t._v("对于数组对象，需要使用"),e("code",[t._v("索引")]),t._v("而不是"),e("code",[t._v("元素")]),t._v("来判断。")])]),t._v(" "),e("h3",{attrs:{id:"isextensible"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#isextensible"}},[t._v("#")]),t._v(" isExtensible")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Reflect.isExtensible")]),t._v("判断一个对象是否可扩展。")]),t._v(" "),e("li",[t._v("如果一个对象被使用了"),e("code",[t._v("Reflect.preventExtension | Object.seal | Object.freeze")]),t._v(" 等方法，那么它就是不可扩展的。")])]),t._v(" "),e("h3",{attrs:{id:"ownkeys"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ownkeys"}},[t._v("#")]),t._v(" ownKeys")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Reflect.ownKeys(target)")])]),t._v(" "),e("li",[t._v("返回一个包含所有自身属性（不包含继承属性）的数组。(类似于 "),e("code",[t._v("Object.keys()")]),t._v(", 但不会受enumerable影响).")]),t._v(" "),e("li",[t._v("不包括原型链上的属性。")])]),t._v(" "),e("h3",{attrs:{id:"set"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#set"}},[t._v("#")]),t._v(" set")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Reflect.set()")])]),t._v(" "),e("li",[t._v("给对象设置属性。")]),t._v(" "),e("li",[t._v("如果只提供一个参数，那么设置属性和值都是"),e("code",[t._v("undefined")])])]),t._v(" "),e("h3",{attrs:{id:"setpropertyof"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#setpropertyof"}},[t._v("#")]),t._v(" setPropertyOf")]),t._v(" "),e("ul",[e("li",[t._v("给对象设置原型，可以改变对象的原型值。")])]),t._v(" "),e("h2",{attrs:{id:"使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),e("h2",{attrs:{id:"兼容性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#兼容性"}},[t._v("#")]),t._v(" 兼容性")]),t._v(" "),e("ul",[e("li",[t._v("兼容性还是不错的，除了IE，基本都支持。")])]),t._v(" "),e("h2",{attrs:{id:"参考"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect",target:"_blank",rel:"noopener noreferrer"}},[t._v("Reflect MDN"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=r.exports}}]);