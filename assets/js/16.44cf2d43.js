(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{380:function(e,v,_){"use strict";_.r(v);var a=_(45),t=Object(a.a)({},(function(){var e=this,v=e.$createElement,_=e._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[_("h1",{attrs:{id:"命令行工具开发总结"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#命令行工具开发总结"}},[e._v("#")]),e._v(" 命令行工具开发总结")]),e._v(" "),_("h2",{attrs:{id:"核心插件"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#核心插件"}},[e._v("#")]),e._v(" 核心插件")]),e._v(" "),_("ul",[_("li",[e._v("开发环境 依旧 使用"),_("code",[e._v("node")])]),e._v(" "),_("li",[e._v("命令行交互使用 npm社区插件 "),_("code",[e._v("commander")])]),e._v(" "),_("li",[e._v("提供用户选择插件使用 "),_("code",[e._v("inquirer")])]),e._v(" "),_("li",[e._v("从github下载模板使用插件 "),_("code",[e._v("download-git-repo")])]),e._v(" "),_("li",[e._v("模板文件流处理使用 "),_("code",[e._v("metalsmith")])]),e._v(" "),_("li",[e._v("模板引擎处理使用 "),_("code",[e._v("Handlebars")])])]),e._v(" "),_("h2",{attrs:{id:"commander"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#commander"}},[e._v("#")]),e._v(" "),_("code",[e._v("commander")])]),e._v(" "),_("ul",[_("li",[e._v("这个包大家都非常熟悉了，有一些坑需要注意。")])]),e._v(" "),_("h3",{attrs:{id:"命令-command"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#命令-command"}},[e._v("#")]),e._v(" 命令："),_("code",[e._v("command")])]),e._v(" "),_("ul",[_("li",[e._v("在执行命令的时候，有两种方式，一种可执行文件的方式，一种是在代码中直接编写。")]),e._v(" "),_("li",[e._v("当使用第一种方式的时候，"),_("code",[e._v(".command()")]),e._v("带有描述参数时，就意味着使用独立的可执行文件作为子命令。需要两个参数，和提供一个文件，比如你的命令行工具叫做"),_("code",[e._v("my-tool")]),e._v("，那么对应的文件名就是"),_("code",[e._v("my-tool-init")]),e._v("。当然，也可以通过配置选项"),_("code",[e._v("executableFile")]),e._v("可以自定义名字。如果该命令需要支持全局安装，请确保有对应的权限，例如"),_("code",[e._v("755")]),e._v("。")]),e._v(" "),_("li",[e._v("第二种方式，使用的参数不一样，需要提供一个函数回调，"),_("code",[e._v("program.action((source, destination) => {// do something})")])])]),e._v(" "),_("h3",{attrs:{id:"参数"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#参数"}},[e._v("#")]),e._v(" 参数")]),e._v(" "),_("ul",[_("li",[e._v("在传参的时候，可以使用必选"),_("code",[e._v("<params>")]),e._v("或者可选"),_("code",[e._v("[params]")])]),e._v(" "),_("li",[e._v("在参数后面加上"),_("code",[e._v("...")]),e._v("代表可变参数。")])]),e._v(" "),_("h3",{attrs:{id:"其他"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[e._v("#")]),e._v(" 其他")]),e._v(" "),_("ul",[_("li",[e._v("帮助信息是 "),_("code",[e._v("Commander")]),e._v(" 基于你的程序自动生成的，默认的帮助选项是"),_("code",[e._v("-h,--help")]),e._v("。")]),e._v(" "),_("li",[_("code",[e._v("program.parse")]),e._v("的第一个参数是要解析的字符串数组，也可以省略参数而使用"),_("code",[e._v("process.argv")]),e._v("。")]),e._v(" "),_("li",[e._v("最新版的"),_("code",[e._v("commander")]),e._v("，要求的 "),_("code",[e._v("Node")]),e._v(" 版本应不低于v12。")]),e._v(" "),_("li",[e._v("官方提供一些"),_("a",{attrs:{href:"https://github.com/tj/commander.js/blob/a9c9f17c7eff96b8da8c2b9d01751d41f1eb0ae3/docs/zh-CN/%E4%B8%8D%E5%86%8D%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8%E7%9A%84%E5%8A%9F%E8%83%BD.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("不再推荐使用的功能"),_("OutboundLink")],1)])])])}),[],!1,null,null,null);v.default=t.exports}}]);