(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{491:function(t,e,a){"use strict";a.r(e);var s=a(2),r=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"原生app和flutter通信接口文档"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#原生app和flutter通信接口文档"}},[t._v("#")]),t._v(" 原生App和Flutter通信接口文档")]),t._v(" "),e("h2",{attrs:{id:"原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#原理"}},[t._v("#")]),t._v(" 原理")]),t._v(" "),e("ul",[e("li",[t._v("原生和"),e("code",[t._v("Flutter")]),t._v("之间通过"),e("code",[t._v("BasicMessageChannel")]),t._v("实现双向通讯，双向通讯的数据为字符串类型。\n通讯的内容为"),e("code",[t._v("json")]),t._v("结构：")])]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"接口名称"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"接口请求数据或返回数据"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("原生和Flutter通过"),e("code",[t._v("code")]),t._v("来识别请求和返回的接口，通过"),e("code",[t._v("data")]),t._v("获取请求或返回的数据")]),t._v(" "),e("p",[t._v("注册的channel名称："),e("code",[t._v("basicChannel")])]),t._v(" "),e("h2",{attrs:{id:"原生提供给flutter的接口"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#原生提供给flutter的接口"}},[t._v("#")]),t._v(" 原生提供给Flutter的接口")]),t._v(" "),e("h3",{attrs:{id:"_1、获取不同服务器当前环境的地址-开发机或者预发线上等"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、获取不同服务器当前环境的地址-开发机或者预发线上等"}},[t._v("#")]),t._v(" 1、获取不同服务器当前环境的地址，开发机或者预发线上等")]),t._v(" "),e("p",[t._v("方法\t: "),e("code",[t._v("getService")]),t._v("\n接口请求: "),e("code",[t._v('{"code":"getService","data":"oh"}')]),t._v("\n接口返回："),e("code",[t._v('{"code":"getService","data":"http://open.aistarfish.net"}')]),t._v("\n作用\t: 获取不同服务器当前环境的地址，开发机或者预发线上等")]),t._v(" "),e("h3",{attrs:{id:"_2、获取医生用户信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、获取医生用户信息"}},[t._v("#")]),t._v(" 2、获取医生用户信息")]),t._v(" "),e("p",[t._v("方法\t: "),e("code",[t._v("getDoctorUserInfo")]),t._v("\n接口请求: "),e("code",[t._v('{"code":"getDoctorUserInfo"}')]),t._v("\n接口返回："),e("code",[t._v('{"code":"getDoctorUserInfo","data":{"doctorUserId":"D2017111721172325300003602","name":"吴贵锋","phone":"17348510813","gmtLogin":null,"expertId":null,"avatarUrl":"https://user-private-stable.aistarfish.net/doctor/avatar/D2017111721172325300003602/1b0c6d31a2d14ac2833570071aabbeab.jpeg?image&access_key_id=XPFSZGJKGAGBAPNQRSDY&expires=1676440019&signature=Ojfmw6YgkOxnkylXKxmENz85pLIBh4EBWRdW7MLLDR4%3D&action=resize%3Aw_100%2Ch_0%2Cm_0","hospital":"浙江大学医学院附属第一医院","department":"感染病科","title":"主任医师","certified":0,"certifiedDesc":null,"subCertified":0,"subCertifiedDesc":null,"area":null,"introduction":null,"research":null,"qrCode":null,"qrCreate":null,"qrUrl":null,"effectiveTime":null,"showWxBtn":"true","wechat":{"country":"","unionId":"okrkE1pZ00eAKJb4HkgF7uDUA5uA","headImgUrl":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJajicESZT3qZ9j8rdN8L27MXcLLxBKJzr9qibkHUAQFib0BIlYaLm46K44YHL8Tq8kIdysenoK7lG8A/132","province":"","city":"","nickName":"NEXT TO U","openId":"oDyH55kFGxAw8YNuMjtmiYFvA-Ho","sex":"0"},"alipay":null,"orgId":"O0001002","orgName":"海心医院","accountType":"admin","superAdmin":"true","patientDailyMng":"true","inviteClinic":"true","showTreatmentPlan":false,"joinCenterId":null,"authTag":"1","authTagDesc":"已认证","filingTag":1,"filingTagDesc":"已备案","qualificationType":1,"certTag":1,"certTagDesc":"已实名","switchFiling":true,"submitAuth":false}}')]),t._v("\n作用\t: 获取医生用户信息")]),t._v(" "),e("h3",{attrs:{id:"_3、获取当前app类型-海心医生或者全病程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3、获取当前app类型-海心医生或者全病程"}},[t._v("#")]),t._v(" 3、获取当前app类型，海心医生或者全病程")]),t._v(" "),e("p",[t._v("方法\t: "),e("code",[t._v("getAppType")]),t._v("\n接口请求:"),e("code",[t._v('{"code":"getAppType"}')]),t._v("\n接口返回："),e("code",[t._v('{"code":"getAppType","data":"hxsy"}')]),t._v("\n作用\t: 获取当前app类型，海心医生或者全病程")]),t._v(" "),e("h3",{attrs:{id:"_4、进行scheme跳转"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4、进行scheme跳转"}},[t._v("#")]),t._v(" 4、进行scheme跳转")]),t._v(" "),e("p",[t._v("方法\t: "),e("code",[t._v("schemeMethods")]),t._v("\n接口请求:"),e("code",[t._v('{"code":"schemeMethods","data":"xxx?a=XXX"}')]),t._v("\n接口返回：无\n作用\t: 进行scheme跳转")]),t._v(" "),e("h3",{attrs:{id:"_5、get请求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5、get请求"}},[t._v("#")]),t._v(" 5、get请求")]),t._v(" "),e("p",[t._v("方法\t: "),e("code",[t._v("httpGet")]),t._v("\n接口请求:"),e("code",[t._v('{"code":"httpGet","data":{"service":"oh","url":"/api/test"}}')]),t._v("\n接口返回："),e("code",[t._v('{"code":"/api/test","data":{"id":"123"}}')]),t._v("\n作用\t: get请求")]),t._v(" "),e("h3",{attrs:{id:"_6、post请求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6、post请求"}},[t._v("#")]),t._v(" 6、post请求")]),t._v(" "),e("p",[t._v("方法\t: "),e("code",[t._v("httpPost")]),t._v("\n接口请求:"),e("code",[t._v('{"code":"httpPost","data":{"service":"oh","url":"/api/test","params":{"id":"123"}}}')]),t._v("\n接口返回："),e("code",[t._v('{"code":"/api/test","data":{"id":"123"}}')]),t._v("\n作用\t: post请求")]),t._v(" "),e("h3",{attrs:{id:"_7、进行toast弹窗"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7、进行toast弹窗"}},[t._v("#")]),t._v(" 7、进行Toast弹窗")]),t._v(" "),e("p",[t._v("方法\t: "),e("code",[t._v("showToast")]),t._v("\n接口请求:"),e("code",[t._v('{"code":"showToast","data":"xxx"}')]),t._v("\n接口返回："),e("code",[t._v('{"code":"showToast"}')]),t._v("\n作用\t: 进行Toast弹窗")]),t._v(" "),e("h3",{attrs:{id:"_8、进行埋点-支持带参数埋点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_8、进行埋点-支持带参数埋点"}},[t._v("#")]),t._v(" 8、进行埋点（支持带参数埋点）")]),t._v(" "),e("p",[t._v("方法\t: "),e("code",[t._v("trackEvent")]),t._v("\n接口请求:"),e("code",[t._v('{"code":"trackEvent","data":{"eventId":"00130000xxxx","params":{}}}')]),t._v("\n接口返回："),e("code",[t._v('{"code":"trackEvent"}')]),t._v("\n作用\t: 进行埋点")]),t._v(" "),e("h3",{attrs:{id:"flutter-专用scheme"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#flutter-专用scheme"}},[t._v("#")]),t._v(" Flutter 专用scheme：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("flutter?routeName=xxxx&titleName=xxx")])]),t._v(" "),e("li",[e("code",[t._v("routeName表示跳转flutter页面的路由")])]),t._v(" "),e("li",[e("code",[t._v("titleName")]),t._v("表示标题")])])])}),[],!1,null,null,null);e.default=r.exports}}]);