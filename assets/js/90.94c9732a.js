(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{486:function(e,t,v){"use strict";v.r(t);var r=v(3),_=Object(r.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"puppeteer-学习笔记"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#puppeteer-学习笔记"}},[e._v("#")]),e._v(" puppeteer 学习笔记")]),e._v(" "),t("h2",{attrs:{id:"介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[e._v("#")]),e._v(" 介绍")]),e._v(" "),t("ul",[t("li",[e._v("Puppeteer 是一个 Node 库，它提供了一个高级 API 来通过 DevTools 协议控制 Chromium 或 Chrome。")]),e._v(" "),t("li",[e._v("它可以用来生成页面PDF，抓取 SPA（单页应用）并生成预渲染内容，自动提交表单，捕获网站的 timeline trace，用来帮助分析性能问题。")])]),e._v(" "),t("h2",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[e._v("#")]),e._v(" 安装")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("npm i puppeteer")]),e._v("，它会自动下载最新版本的Chromium。")]),e._v(" "),t("li",[e._v("你也可以安装"),t("code",[e._v("puppeteer-core")]),e._v("，这个包默认不会下载 Chromium。")]),e._v(" "),t("li",[t("code",[e._v("Puppeteer")]),e._v(" 至少需要 "),t("code",[e._v("Node v6.4.0")]),e._v("，如果要使用 "),t("code",[e._v("async / await")]),e._v("则 "),t("code",[e._v("Node v7.6.0")]),e._v(" 需要更高版本。")])]),e._v(" "),t("h2",{attrs:{id:"浏览器日志"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#浏览器日志"}},[e._v("#")]),e._v(" 浏览器日志")]),e._v(" "),t("ul",[t("li",[e._v("在执行 page 实例方法的时候，其"),t("code",[e._v("console.log")]),e._v("都是在浏览器中打印出日志，在终端是看不到这些日志的。")]),e._v(" "),t("li",[e._v("如果需要查看这些日志，那么需要设置："),t("code",[e._v("devTools: true")]),e._v("，并且关闭无头模式，即设置："),t("code",[e._v("headless: false")])])]),e._v(" "),t("h2",{attrs:{id:"启动方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动方式"}},[e._v("#")]),e._v(" 启动方式")]),e._v(" "),t("ul",[t("li",[e._v("两种启动方式：\n"),t("ul",[t("li",[t("code",[e._v("puppeteer.launch")]),e._v(", 每次都要重新启动一个 Chrome 进程")]),e._v(" "),t("li",[t("code",[e._v("puppeteer.connect")]),e._v(", 可以实现对于同一个 Chrome 实例的共用，减少启动关闭浏览器的时间消耗")])])])])])}),[],!1,null,null,null);t.default=_.exports}}]);